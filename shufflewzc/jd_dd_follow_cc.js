/**
关注有礼
*/
// 10 10 * * * jd_dd_follow_cc.js

const $ = new Env('关注有礼');
var _0xodk='jsjiami.com.v6',_0xodk_=['‮_0xodk'],_0x2b9b=[_0xodk,'aXNOb2Rl','Li9zZW5kTm90aWZ5','Li9qZENvb2tpZS5qcw==','a2V5cw==','Zm9yRWFjaA==','cHVzaA==','ZW52','SkRfREVCVUc=','ZmFsc2U=','bG9n','Z2V0ZGF0YQ==','Q29va2llc0pE','bWFw','Y29va2ll','cmV2ZXJzZQ==','Q29va2llSkQy','Q29va2llSkQ=','ZmlsdGVy','YmFzZQ==','44CQ5o+Q56S644CR6K+35YWI6I635Y+W5Lqs5Lic6LSm5Y+35LiAY29va2llCuebtOaOpeS9v+eUqE5vYnlEYeeahOS6rOS4nOetvuWIsOiOt+WPlg==','aHR0cHM6Ly9iZWFuLm0uamQuY29tL2JlYW4vc2lnbkluZGV4LmFjdGlvbg==','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL29reXlkcy95eWRzL21hc3Rlci9kb2NrZXIvamRfZGRfZm9sbG93X2MuanNvbg==','c0ltVFk=','QUpJUms=','SGJkTWI=','U0tLZng=','MzAu','MTE0Lg==','bXNn','bmFtZQ==','WG1aWm4=','YkRvdVc=','Z2V0Q29kZUxpc3RlcnI=','QldmSWo=','eXJhSFA=','WUxjbUE=','dGtiWU8=','bFNXZ1Y=','bmlja05hbWU=','dW5IcFo=','bmlja25hbWU=','VXNlck5hbWU=','bnR4eEg=','bG9nRXJy','dmVuZGVySWQ=','YnNmRUc=','bGVuZ3Ro','SkQ0aVBob25lLzE2Nzg1MyUyMChpUGhvbmU7JTIwaU9TOyUyMFNjYWxlLzMuMDAp','bWF0Y2g=','aW5kZXg=','QkdGV0c=','aXNMb2dpbg==','SERVa3U=','CioqKioqKuW8gOWni+OAkOS6rOS4nOi0puWPtw==','KioqKioqKioqCg==','SGlST1Q=','a3Jnb3Y=','bnZTa0c=','44CQ5o+Q56S644CRY29va2ll5bey5aSx5pWI','5Lqs5Lic6LSm5Y+3','Cuivt+mHjeaWsOeZu+W9leiOt+WPlgpodHRwczovL2JlYW4ubS5qZC5jb20vYmVhbi9zaWduSW5kZXguYWN0aW9u','c2VuZE5vdGlmeQ==','Y29va2ll5bey5aSx5pWIIC0g','Cuivt+mHjeaWsOeZu+W9leiOt+WPlmNvb2tpZQ==','eEZBSkg=','ZGdaRGU=','WW1keGQ=','dmxmVlk=','a3FMc3c=','dVhiVEE=','d2FpdA==','Y2F0Y2g=','LCDlpLHotKUhIOWOn+WboDog','ZmluYWxseQ==','ZG9uZQ==','NHw2fDB8NXwxfDN8Mnw3','YWVOR0w=','c3BsaXQ=','c2hvcElk','aWRYRFU=','c2hvcEluZm8=','YWN0aXZpdHlJZA==','dU1MSm0=','S1BOSHE=','Ki8q','aHR0cHM6Ly9zaG9wLm0uamQuY29t','Z3ppcCwgZGVmbGF0ZSwgYnI=','emgtQ04semgtSGFucztxPTAuOQ==','bS1zaG9w','RU1HREw=','a29NZnY=','WUlmaXo=','S0t3UmY=','5Lqs5Lic5pyN5Yqh5Zmo6L+U5Zue56m65pWw5o2u','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9mdW5jdGlvbklkPXdoeF9nZXRNU2hvcE91dGxpbmVJbmZvJmJvZHk9','TVJ3Z2Q=','c3RyaW5naWZ5','JmFwcGlkPXNob3BfdmlldyZjbGllbnRWZXJzaW9uPTExLjAuMCZjbGllbnQ9d2g1JmFyZWE9JnV1aWQ9','ZW91Vk0=','QWdXVGY=','RkpMa2I=','dkJCaGQ=','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNV82IGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNS42IE1vYmlsZS8xNUUxNDggU2FmYXJpLzYwNC4x','Z2V0','cGFyc2U=','ZGF0YQ==','UUpHdEo=','ZXF5bHU=','VmRycEc=','dnRmZWU=','ZnBuTGo=','ek95ckk=','YXZMRUY=','QVdHcmw=','Uk9XWno=','UkljT3A=','bUR2T0g=','dGN0TnI=','THRwS0k=','UkVBRUs=','elNTdGo=','Z3J0VU0=','Zk11aHg=','cURxYkg=','U3pSQk8=','UmFpUnU=','bFBsS3k=','empxY3o=','UGJyWm0=','eEdOVE0=','Uk54TU0=','ZWxhcG0=','RHpUSlQ=','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9mdW5jdGlvbklkPXdoeF9nZXRTaG9wSG9tZUFjdGl2aXR5SW5mbyZib2R5PQ==','JnQ9','bm93','RmtWQ1c=','a3lQY0w=','YnlOSEQ=','QkxFYXI=','ZmlBVmY=','TW11dGk=','WmRpZE8=','bFJVSG4=','cmVzdWx0','Z2lmdEJhZ0RhdGFSZXN1bHQ=','SVBQeUg=','SFBnRnM=','UkVJbks=','V3FvekQ=','SUt6T20=','cmV0Y29kZQ==','VkxFWnM=','aXNKYVo=','elZwekU=','SVhoVHk=','ZGFMZFM=','aHpQSU4=','WmRPUms=','UVJTSlc=','dVNPU04=','QWJib3Y=','T2FSWW4=','T1dpRkk=','V2pUSkY=','Zm5SQng=','aHR0cHM6Ly9hcGkubS5qZC5jb20vY2xpZW50LmFjdGlvbj9mdW5jdGlvbklkPXdoeF9kcmF3U2hvcEdpZnQmYm9keT0=','cW5LQXM=','ZnFLeWk=','dEJZVnI=','Q1F2bWg=','S3B2THk=','SlJSU1Q=','Z3F0RFI=','VkZRdFY=','VFdYR1M=','b1hFckE=','d3BaUVg=','VE5NTko=','TWVNU28=','Q1lZdWI=','c21oT2g=','VWF5dnk=','SU5sRks=','V2lUVHU=','Y2JybkQ=','QkxzWnk=','WXNobGg=','Zmxvb3I=','Q3hIWEo=','cmFuZG9t','WG5Vcko=','Z3ZzTUU=','YkVGTlc=','eHVCZmE=','YkhRZEI=','eUhNeUs=','YXBwbGljYXRpb24vanNvbix0ZXh0L3BsYWluLCAqLyo=','YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk','emgtY24=','a2VlcC1hbGl2ZQ==','aHR0cHM6Ly93cXMuamQuY29tL215L2ppbmdkb3UvbXkuc2h0bWw/c2NlbmV2YWw9Mg==','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF8zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNC4wLjIgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjE=','bkxzdmI=','SU5WRm8=','aHR0cHM6Ly93cS5qZC5jb20vdXNlci9pbmZvL1F1ZXJ5SkRVc2VySW5mbz9zY2VuZXZhbD0y','d2FyU1E=','ZGdxSng=','dW1Pd1c=','eXdhbE8=','WVljRlc=','ZEljSEk=','cWhzdm4=','cG9zdA==','aVJLRXg=','VVhFUlY=','SVZPenA=','ZmJNZVU=','QnVZc3g=','IEFQSeivt+axguWksei0pe+8jOivt+ajgOafpee9kei3r+mHjeivlQ==','VGFpcFY=','YU9USno=','SVJ3U0k=','cGt4VlE=','SHFqYkM=','VnJOQ0o=','UlZVZ3Q=','TW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxM18yXzMgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzEzLjAuMyBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSBFZGcvODcuMC40MjgwLjg4','eWdqVG0=','UmpsdWM=','bUxBek4=','dllySUw=','ekRaVUg=','c0ZqRk0=','bWJuUkk=','cklaWHo=','aHRkUWE=','YVZYZ3U=','RHdVWGY=','TU9aTVo=','UGNJaks=','jsKUKHjiLEamiJ.McZomB.tvY6GU=='];if(function(_0x1f80ef,_0xdcabde,_0x10fdd7){function _0x438964(_0x34d898,_0x17b275,_0x239cef,_0x2fcf50,_0x2fd59d,_0x78623b){_0x17b275=_0x17b275>>0x8,_0x2fd59d='po';var _0x598293='shift',_0x3b5975='push',_0x78623b='‮';if(_0x17b275<_0x34d898){while(--_0x34d898){_0x2fcf50=_0x1f80ef[_0x598293]();if(_0x17b275===_0x34d898&&_0x78623b==='‮'&&_0x78623b['length']===0x1){_0x17b275=_0x2fcf50,_0x239cef=_0x1f80ef[_0x2fd59d+'p']();}else if(_0x17b275&&_0x239cef['replace'](/[KUKHLEJMZBtYGU=]/g,'')===_0x17b275){_0x1f80ef[_0x3b5975](_0x2fcf50);}}_0x1f80ef[_0x3b5975](_0x1f80ef[_0x598293]());}return 0xfcd4a;};return _0x438964(++_0xdcabde,_0x10fdd7)>>_0xdcabde^_0x10fdd7;}(_0x2b9b,0xf1,0xf100),_0x2b9b){_0xodk_=_0x2b9b['length']^0xf1;};function _0x35cd(_0xb286b3,_0x51425a){_0xb286b3=~~'0x'['concat'](_0xb286b3['slice'](0x1));var _0x485d25=_0x2b9b[_0xb286b3];if(_0x35cd['mNofGy']===undefined&&'‮'['length']===0x1){(function(){var _0x5bdce2=function(){var _0x2834e8;try{_0x2834e8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x47e700){_0x2834e8=window;}return _0x2834e8;};var _0x4f094a=_0x5bdce2();var _0x4f63a5='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4f094a['atob']||(_0x4f094a['atob']=function(_0x58936e){var _0x2431cb=String(_0x58936e)['replace'](/=+$/,'');for(var _0xce34f9=0x0,_0x4d304d,_0x3ccf39,_0xf1e534=0x0,_0x336b3a='';_0x3ccf39=_0x2431cb['charAt'](_0xf1e534++);~_0x3ccf39&&(_0x4d304d=_0xce34f9%0x4?_0x4d304d*0x40+_0x3ccf39:_0x3ccf39,_0xce34f9++%0x4)?_0x336b3a+=String['fromCharCode'](0xff&_0x4d304d>>(-0x2*_0xce34f9&0x6)):0x0){_0x3ccf39=_0x4f63a5['indexOf'](_0x3ccf39);}return _0x336b3a;});}());_0x35cd['ZUniQc']=function(_0x1cd051){var _0x3d79b7=atob(_0x1cd051);var _0x1819f0=[];for(var _0x19f031=0x0,_0x39a44d=_0x3d79b7['length'];_0x19f031<_0x39a44d;_0x19f031++){_0x1819f0+='%'+('00'+_0x3d79b7['charCodeAt'](_0x19f031)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1819f0);};_0x35cd['KtThcV']={};_0x35cd['mNofGy']=!![];}var _0x418eed=_0x35cd['KtThcV'][_0xb286b3];if(_0x418eed===undefined){_0x485d25=_0x35cd['ZUniQc'](_0x485d25);_0x35cd['KtThcV'][_0xb286b3]=_0x485d25;}else{_0x485d25=_0x418eed;}return _0x485d25;};const notify=$[_0x35cd('‫0')]()?require(_0x35cd('‫1')):'';const jdCookieNode=$[_0x35cd('‫0')]()?require(_0x35cd('‫2')):'';let cookiesArr=[],cookie='';let venderIdList=[];if($[_0x35cd('‫0')]()){Object[_0x35cd('‫3')](jdCookieNode)[_0x35cd('‫4')](_0x340e63=>{cookiesArr[_0x35cd('‮5')](jdCookieNode[_0x340e63]);});if(process[_0x35cd('‮6')][_0x35cd('‮7')]&&process[_0x35cd('‮6')][_0x35cd('‮7')]===_0x35cd('‫8'))console[_0x35cd('‮9')]=()=>{};}else{let cookiesData=$[_0x35cd('‫a')](_0x35cd('‫b'))||'[]';cookiesData=jsonParse(cookiesData);cookiesArr=cookiesData[_0x35cd('‮c')](_0xfb2a4d=>_0xfb2a4d[_0x35cd('‮d')]);cookiesArr[_0x35cd('‮e')]();cookiesArr[_0x35cd('‮5')](...[$[_0x35cd('‫a')](_0x35cd('‫f')),$[_0x35cd('‫a')](_0x35cd('‮10'))]);cookiesArr[_0x35cd('‮e')]();cookiesArr=cookiesArr[_0x35cd('‫11')](_0x7191d3=>_0x7191d3!==''&&_0x7191d3!==null&&_0x7191d3!==undefined);}!(async()=>{var _0x43362c={'unHpZ':_0x35cd('‮12'),'XmZZn':_0x35cd('‮13'),'bDouW':_0x35cd('‮14'),'BWfIj':function(_0x38f6df,_0x215c2b){return _0x38f6df(_0x215c2b);},'yraHP':_0x35cd('‮15'),'YLcmA':function(_0x37e114,_0x5d24a4){return _0x37e114===_0x5d24a4;},'tkbYO':function(_0x9eb2a7,_0x2c909e){return _0x9eb2a7!==_0x2c909e;},'lSWgV':_0x35cd('‮16'),'ntxxH':_0x35cd('‫17'),'bsfEG':function(_0x2edfdb,_0x573702){return _0x2edfdb<_0x573702;},'BGFWG':function(_0x37fe0d,_0x141768){return _0x37fe0d+_0x141768;},'HDUku':function(_0x4e22e8){return _0x4e22e8();},'HiROT':function(_0x5b4e96,_0x6dae79){return _0x5b4e96!==_0x6dae79;},'krgov':_0x35cd('‫18'),'nvSkG':_0x35cd('‫19'),'xFAJH':_0x35cd('‮1a'),'dgZDe':function(_0x575c55,_0x5240cb,_0x32a1a0){return _0x575c55(_0x5240cb,_0x32a1a0);},'Ymdxd':function(_0x3592eb,_0x5ae8a4){return _0x3592eb+_0x5ae8a4;},'vlfVY':_0x35cd('‫1b'),'kqLsw':function(_0xb71ca8,_0x2e7069,_0x5787e0){return _0xb71ca8(_0x2e7069,_0x5787e0);},'uXbTA':function(_0x112c2c){return _0x112c2c();}};if(!cookiesArr[0x0]){$[_0x35cd('‫1c')]($[_0x35cd('‫1d')],_0x43362c[_0x35cd('‮1e')],_0x43362c[_0x35cd('‫1f')],{'open-url':_0x43362c[_0x35cd('‫1f')]});return;}$[_0x35cd('‮20')]=![];venderIdList=await _0x43362c[_0x35cd('‮21')](getCodeList,_0x43362c[_0x35cd('‮22')]);console[_0x35cd('‮9')](venderIdList);if(_0x43362c[_0x35cd('‮23')]($[_0x35cd('‮20')],!![])){if(_0x43362c[_0x35cd('‮24')](_0x43362c[_0x35cd('‫25')],_0x43362c[_0x35cd('‫25')])){$[_0x35cd('‫26')]=data[_0x43362c[_0x35cd('‫27')]]&&data[_0x43362c[_0x35cd('‫27')]][_0x35cd('‫28')]||$[_0x35cd('‮29')];}else{for(const _0x30b8ae of venderIdList){if(_0x43362c[_0x35cd('‮24')](_0x43362c[_0x35cd('‫2a')],_0x43362c[_0x35cd('‫2a')])){$[_0x35cd('‫2b')](e,resp);}else{$[_0x35cd('‫2c')]=_0x30b8ae;console[_0x35cd('‮9')]($[_0x35cd('‫2c')]);for(let _0x1e9d9b=0x0;_0x43362c[_0x35cd('‫2d')](_0x1e9d9b,cookiesArr[_0x35cd('‮2e')]);_0x1e9d9b++){UA=_0x35cd('‫2f');if(cookiesArr[_0x1e9d9b]){cookie=cookiesArr[_0x1e9d9b];$[_0x35cd('‮29')]=_0x43362c[_0x35cd('‮21')](decodeURIComponent,cookie[_0x35cd('‫30')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x35cd('‫30')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x35cd('‮31')]=_0x43362c[_0x35cd('‫32')](_0x1e9d9b,0x1);$[_0x35cd('‫33')]=!![];$[_0x35cd('‫26')]='';await _0x43362c[_0x35cd('‫34')](TotalBean);console[_0x35cd('‮9')](_0x35cd('‮35')+$[_0x35cd('‮31')]+'】'+($[_0x35cd('‫26')]||$[_0x35cd('‮29')])+_0x35cd('‮36'));if(!$[_0x35cd('‫33')]){if(_0x43362c[_0x35cd('‫37')](_0x43362c[_0x35cd('‮38')],_0x43362c[_0x35cd('‮39')])){$[_0x35cd('‫1c')]($[_0x35cd('‫1d')],_0x35cd('‫3a'),_0x35cd('‫3b')+$[_0x35cd('‮31')]+'\x20'+($[_0x35cd('‫26')]||$[_0x35cd('‮29')])+_0x35cd('‫3c'),{'open-url':_0x43362c[_0x35cd('‫1f')]});if($[_0x35cd('‫0')]()){await notify[_0x35cd('‮3d')]($[_0x35cd('‫1d')]+_0x35cd('‫3e')+$[_0x35cd('‮29')],_0x35cd('‫3b')+$[_0x35cd('‮31')]+'\x20'+$[_0x35cd('‮29')]+_0x35cd('‫3f'));}continue;}else{$[_0x35cd('‫26')]=$[_0x35cd('‮29')];}}latWs=_0x43362c[_0x35cd('‫32')](_0x43362c[_0x35cd('‫40')],_0x43362c[_0x35cd('‫41')](random,0x1869f,0x2710));lngWs=_0x43362c[_0x35cd('‫42')](_0x43362c[_0x35cd('‮43')],_0x43362c[_0x35cd('‫44')](random,0x1869f,0x2710));await _0x43362c[_0x35cd('‮45')](main);await $[_0x35cd('‮46')](0x7d0);}}}}}}})()[_0x35cd('‫47')](_0x952597=>{$[_0x35cd('‮9')]('','❌\x20'+$[_0x35cd('‫1d')]+_0x35cd('‮48')+_0x952597+'!','');})[_0x35cd('‫49')](()=>{$[_0x35cd('‫4a')]();});async function main(){var _0x1e6a9c={'aeNGL':_0x35cd('‫4b'),'idXDU':function(_0x21abcb){return _0x21abcb();}};var _0x380c8e=_0x1e6a9c[_0x35cd('‫4c')][_0x35cd('‮4d')]('|'),_0xf3591d=0x0;while(!![]){switch(_0x380c8e[_0xf3591d++]){case'0':$[_0x35cd('‮4e')]='';continue;case'1':await $[_0x35cd('‮46')](0x3e8);continue;case'2':await $[_0x35cd('‮46')](0x3e8);continue;case'3':await _0x1e6a9c[_0x35cd('‫4f')](getShopHomeActivityInfo);continue;case'4':$[_0x35cd('‫50')]='';continue;case'5':await _0x1e6a9c[_0x35cd('‫4f')](getMShopOutlineInfo);continue;case'6':$[_0x35cd('‮51')]='';continue;case'7':if($[_0x35cd('‮51')]){$[_0x35cd('‮4e')]=$[_0x35cd('‫50')][_0x35cd('‮4e')];await _0x1e6a9c[_0x35cd('‫4f')](drawShopGift);await $[_0x35cd('‮46')](0x3e8);}continue;}break;}}function getMShopOutlineInfo(){var _0x27fa18={'QJGtJ':function(_0x24b4bd){return _0x24b4bd();},'koMfv':function(_0x11baae,_0x3cb352){return _0x11baae===_0x3cb352;},'YIfiz':_0x35cd('‮52'),'KKwRf':_0x35cd('‮53'),'MRwgd':function(_0x3cf604,_0x472993){return _0x3cf604(_0x472993);},'eouVM':_0x35cd('‮54'),'AgWTf':_0x35cd('‮55'),'FJLkb':_0x35cd('‫56'),'vBBhd':_0x35cd('‮57'),'EMGDL':_0x35cd('‮58')};const _0x411276={'venderId':$[_0x35cd('‫2c')],'source':_0x27fa18[_0x35cd('‮59')]};return new Promise(async _0x175f4e=>{if(_0x27fa18[_0x35cd('‫5a')](_0x27fa18[_0x35cd('‫5b')],_0x27fa18[_0x35cd('‫5c')])){console[_0x35cd('‮9')](_0x35cd('‮5d'));}else{const _0x3ab3b2={'url':_0x35cd('‫5e')+_0x27fa18[_0x35cd('‫5f')](encodeURIComponent,JSON[_0x35cd('‮60')](_0x411276))+_0x35cd('‫61'),'headers':{'Accept':_0x27fa18[_0x35cd('‫62')],'Origin':_0x27fa18[_0x35cd('‫63')],'Accept-Encoding':_0x27fa18[_0x35cd('‮64')],'Accept-Language':_0x27fa18[_0x35cd('‫65')],'Cookie':cookie,'Referer':_0x27fa18[_0x35cd('‫63')],'User-Agent':_0x35cd('‮66')}};$[_0x35cd('‫67')](_0x3ab3b2,(_0x4cc355,_0x3b6a55,_0x128469)=>{try{if(_0x4cc355){console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x4cc355));}else{if(_0x128469){_0x128469=JSON[_0x35cd('‫68')](_0x128469);$[_0x35cd('‫50')]=_0x128469[_0x35cd('‫69')][_0x35cd('‫50')];}else{console[_0x35cd('‮9')](_0x35cd('‮5d'));}}}catch(_0x109165){$[_0x35cd('‫2b')](_0x109165,_0x3b6a55);}finally{_0x27fa18[_0x35cd('‮6a')](_0x175f4e);}});}});}function getShopHomeActivityInfo(){var _0x4b3554={'RIcOp':_0x35cd('‫b'),'mDvOH':function(_0x1ada87,_0x3f0b9d){return _0x1ada87(_0x3f0b9d);},'tctNr':_0x35cd('‫f'),'LtpKI':_0x35cd('‮10'),'REAEK':function(_0x5acc7f){return _0x5acc7f();},'zSStj':function(_0x420791,_0x33d9fd){return _0x420791===_0x33d9fd;},'grtUM':_0x35cd('‮6b'),'fMuhx':_0x35cd('‮6c'),'qDqbH':_0x35cd('‮6d'),'SzRBO':function(_0x30abee,_0x46c7a0){return _0x30abee!==_0x46c7a0;},'RaiRu':_0x35cd('‮6e'),'lPlKy':_0x35cd('‫6f'),'zjqcz':_0x35cd('‮70'),'PbrZm':_0x35cd('‫71'),'FkVCW':_0x35cd('‮54'),'kyPcL':_0x35cd('‮55'),'byNHD':_0x35cd('‫56'),'BLEar':_0x35cd('‮57'),'ROWZz':_0x35cd('‮58')};const _0x183ea4={'venderId':$[_0x35cd('‫2c')],'source':_0x4b3554[_0x35cd('‫72')]};return new Promise(async _0x349935=>{var _0xe185ce={'xGNTM':_0x4b3554[_0x35cd('‮73')],'RNxMM':function(_0x119f08,_0x45bcb2){return _0x4b3554[_0x35cd('‮74')](_0x119f08,_0x45bcb2);},'elapm':_0x4b3554[_0x35cd('‫75')],'DzTJT':_0x4b3554[_0x35cd('‮76')],'lRUHn':function(_0x417824){return _0x4b3554[_0x35cd('‮77')](_0x417824);},'fiAVf':function(_0x2c560e,_0x14dfc8){return _0x4b3554[_0x35cd('‫78')](_0x2c560e,_0x14dfc8);},'Mmuti':_0x4b3554[_0x35cd('‮79')],'ZdidO':_0x4b3554[_0x35cd('‫7a')],'IPPyH':function(_0x111353,_0x3ace88){return _0x4b3554[_0x35cd('‫78')](_0x111353,_0x3ace88);},'HPgFs':_0x4b3554[_0x35cd('‫7b')],'REInK':function(_0x23d18e,_0x45eaae){return _0x4b3554[_0x35cd('‮7c')](_0x23d18e,_0x45eaae);},'WqozD':_0x4b3554[_0x35cd('‮7d')],'IKzOm':_0x4b3554[_0x35cd('‮7e')]};if(_0x4b3554[_0x35cd('‫78')](_0x4b3554[_0x35cd('‮7f')],_0x4b3554[_0x35cd('‮80')])){let _0x33974f=$[_0x35cd('‫a')](_0xe185ce[_0x35cd('‫81')])||'[]';_0x33974f=_0xe185ce[_0x35cd('‫82')](jsonParse,_0x33974f);cookiesArr=_0x33974f[_0x35cd('‮c')](_0x52e8b3=>_0x52e8b3[_0x35cd('‮d')]);cookiesArr[_0x35cd('‮e')]();cookiesArr[_0x35cd('‮5')](...[$[_0x35cd('‫a')](_0xe185ce[_0x35cd('‮83')]),$[_0x35cd('‫a')](_0xe185ce[_0x35cd('‫84')])]);cookiesArr[_0x35cd('‮e')]();cookiesArr=cookiesArr[_0x35cd('‫11')](_0x576d3d=>_0x576d3d!==''&&_0x576d3d!==null&&_0x576d3d!==undefined);}else{const _0x2ca2b4={'url':_0x35cd('‫85')+_0x4b3554[_0x35cd('‮74')](encodeURIComponent,JSON[_0x35cd('‮60')](_0x183ea4))+_0x35cd('‫86')+$[_0x35cd('‮87')]+_0x35cd('‫61'),'headers':{'Accept':_0x4b3554[_0x35cd('‫88')],'Origin':_0x4b3554[_0x35cd('‮89')],'Accept-Encoding':_0x4b3554[_0x35cd('‮8a')],'Accept-Language':_0x4b3554[_0x35cd('‫8b')],'Cookie':cookie,'Referer':_0x4b3554[_0x35cd('‮89')],'User-Agent':_0x35cd('‮66')}};$[_0x35cd('‫67')](_0x2ca2b4,(_0x1481a0,_0x4098fc,_0x499fe0)=>{try{if(_0x1481a0){if(_0xe185ce[_0x35cd('‮8c')](_0xe185ce[_0x35cd('‫8d')],_0xe185ce[_0x35cd('‫8e')])){_0xe185ce[_0x35cd('‮8f')](_0x349935);}else{console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x1481a0));}}else{if(_0x499fe0){_0x499fe0=JSON[_0x35cd('‫68')](_0x499fe0);if(_0x499fe0[_0x35cd('‫90')][_0x35cd('‮91')]){if(_0xe185ce[_0x35cd('‫92')](_0xe185ce[_0x35cd('‫93')],_0xe185ce[_0x35cd('‫93')])){$[_0x35cd('‮51')]=_0x499fe0[_0x35cd('‫90')][_0x35cd('‮91')][_0x35cd('‮51')];}else{console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x1481a0));}}}else{console[_0x35cd('‮9')](_0x35cd('‮5d'));}}}catch(_0x1210cd){$[_0x35cd('‫2b')](_0x1210cd,_0x4098fc);}finally{if(_0xe185ce[_0x35cd('‮94')](_0xe185ce[_0x35cd('‫95')],_0xe185ce[_0x35cd('‫96')])){_0xe185ce[_0x35cd('‮8f')](_0x349935);}else{$[_0x35cd('‫2b')](e,_0x4098fc);}}});}});}function drawShopGift(){var _0x19e4e5={'daLdS':function(_0x391425,_0x120ce9){return _0x391425===_0x120ce9;},'hzPIN':_0x35cd('‫8'),'ZdORk':_0x35cd('‫97'),'QRSJW':_0x35cd('‮12'),'uSOSN':_0x35cd('‮98'),'Abbov':_0x35cd('‮99'),'OaRYn':_0x35cd('‮9a'),'OWiFI':function(_0x332c46,_0x1cc8ae){return _0x332c46!==_0x1cc8ae;},'WjTJF':_0x35cd('‫9b'),'fnRBx':function(_0x3d9633){return _0x3d9633();},'qnKAs':function(_0x513fea,_0x3a5111){return _0x513fea(_0x3a5111);},'fqKyi':_0x35cd('‮54'),'tBYVr':_0x35cd('‮55'),'CQvmh':_0x35cd('‫56'),'KpvLy':_0x35cd('‮57')};const _0xc251fa={'shopId':$[_0x35cd('‮4e')],'venderId':$[_0x35cd('‫2c')],'activityId':$[_0x35cd('‮51')]};return new Promise(async _0x543d6b=>{var _0x5d1840={'JRRST':function(_0x119873,_0x58e21a){return _0x19e4e5[_0x35cd('‫9c')](_0x119873,_0x58e21a);},'gqtDR':_0x19e4e5[_0x35cd('‫9d')],'VFQtV':_0x19e4e5[_0x35cd('‫9e')],'TWXGS':_0x19e4e5[_0x35cd('‫9f')],'oXErA':_0x19e4e5[_0x35cd('‮a0')],'wpZQX':_0x19e4e5[_0x35cd('‫a1')],'TNMNJ':_0x19e4e5[_0x35cd('‮a2')],'smhOh':function(_0x51f953,_0x40ef11){return _0x19e4e5[_0x35cd('‮a3')](_0x51f953,_0x40ef11);},'Uayvy':_0x19e4e5[_0x35cd('‮a4')],'BLsZy':function(_0xdf6f8a){return _0x19e4e5[_0x35cd('‫a5')](_0xdf6f8a);}};const _0x2ccde0={'url':_0x35cd('‮a6')+_0x19e4e5[_0x35cd('‮a7')](encodeURIComponent,JSON[_0x35cd('‮60')](_0xc251fa))+_0x35cd('‫86')+$[_0x35cd('‮87')]+_0x35cd('‫61'),'headers':{'Accept':_0x19e4e5[_0x35cd('‫a8')],'Origin':_0x19e4e5[_0x35cd('‫a9')],'Accept-Encoding':_0x19e4e5[_0x35cd('‮aa')],'Accept-Language':_0x19e4e5[_0x35cd('‫ab')],'Cookie':cookie,'Referer':_0x19e4e5[_0x35cd('‫a9')],'User-Agent':_0x35cd('‮66')}};$[_0x35cd('‫67')](_0x2ccde0,(_0x1a9f19,_0x339209,_0x5b55e8)=>{var _0xbe207b={'MeMSo':function(_0x140c71,_0x27b173){return _0x5d1840[_0x35cd('‮ac')](_0x140c71,_0x27b173);},'CYYub':_0x5d1840[_0x35cd('‫ad')],'INlFK':_0x5d1840[_0x35cd('‮ae')],'WiTTu':function(_0x55fb79,_0x31b0be){return _0x5d1840[_0x35cd('‮ac')](_0x55fb79,_0x31b0be);},'cbrnD':_0x5d1840[_0x35cd('‮af')]};try{if(_0x1a9f19){if(_0x5d1840[_0x35cd('‮ac')](_0x5d1840[_0x35cd('‫b0')],_0x5d1840[_0x35cd('‫b0')])){console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x1a9f19));}else{$[_0x35cd('‮51')]=_0x5b55e8[_0x35cd('‫90')][_0x35cd('‮91')][_0x35cd('‮51')];}}else{if(_0x5b55e8){if(_0x5d1840[_0x35cd('‮ac')](_0x5d1840[_0x35cd('‮b1')],_0x5d1840[_0x35cd('‫b2')])){Object[_0x35cd('‫3')](jdCookieNode)[_0x35cd('‫4')](_0x3bab19=>{cookiesArr[_0x35cd('‮5')](jdCookieNode[_0x3bab19]);});if(process[_0x35cd('‮6')][_0x35cd('‮7')]&&_0xbe207b[_0x35cd('‮b3')](process[_0x35cd('‮6')][_0x35cd('‮7')],_0xbe207b[_0x35cd('‫b4')]))console[_0x35cd('‮9')]=()=>{};}else{_0x5b55e8=JSON[_0x35cd('‫68')](_0x5b55e8);if(_0x5b55e8[_0x35cd('‫90')]){console[_0x35cd('‮9')](_0x5b55e8[_0x35cd('‫90')]);}}}else{console[_0x35cd('‮9')](_0x35cd('‮5d'));}}}catch(_0xec5534){if(_0x5d1840[_0x35cd('‮b5')](_0x5d1840[_0x35cd('‫b6')],_0x5d1840[_0x35cd('‫b6')])){_0x5b55e8=JSON[_0x35cd('‫68')](_0x5b55e8);if(_0xbe207b[_0x35cd('‮b3')](_0x5b55e8[_0xbe207b[_0x35cd('‮b7')]],0xd)){$[_0x35cd('‫33')]=![];return;}if(_0xbe207b[_0x35cd('‫b8')](_0x5b55e8[_0xbe207b[_0x35cd('‮b7')]],0x0)){$[_0x35cd('‫26')]=_0x5b55e8[_0xbe207b[_0x35cd('‮b9')]]&&_0x5b55e8[_0xbe207b[_0x35cd('‮b9')]][_0x35cd('‫28')]||$[_0x35cd('‮29')];}else{$[_0x35cd('‫26')]=$[_0x35cd('‮29')];}}else{$[_0x35cd('‫2b')](_0xec5534,_0x339209);}}finally{_0x5d1840[_0x35cd('‫ba')](_0x543d6b);}});});}function random(_0x441f0a,_0x50175a){var _0xd7d8fa={'Yshlh':function(_0x59f925,_0x46ce3d){return _0x59f925+_0x46ce3d;},'CxHXJ':function(_0x3523c1,_0x4fc003){return _0x3523c1*_0x4fc003;},'XnUrJ':function(_0x6eaec6,_0x2c7dcd){return _0x6eaec6-_0x2c7dcd;}};return _0xd7d8fa[_0x35cd('‫bb')](Math[_0x35cd('‮bc')](_0xd7d8fa[_0x35cd('‫bd')](Math[_0x35cd('‮be')](),_0xd7d8fa[_0x35cd('‮bf')](_0x50175a,_0x441f0a))),_0x441f0a);}function TotalBean(){var _0x1d42d3={'iRKEx':function(_0xf85262,_0x305d3b){return _0xf85262===_0x305d3b;},'UXERV':_0x35cd('‫c0'),'IVOzp':function(_0x5ad755,_0x196b07){return _0x5ad755!==_0x196b07;},'fbMeU':_0x35cd('‫c1'),'BuYsx':_0x35cd('‫c2'),'TaipV':_0x35cd('‫97'),'nLsvb':function(_0xf328b2,_0x1ab86f){return _0xf328b2===_0x1ab86f;},'aOTJz':_0x35cd('‮c3'),'IRwSI':_0x35cd('‮12'),'pkxVQ':function(_0x452329){return _0x452329();},'INVFo':_0x35cd('‮c4'),'warSQ':_0x35cd('‮c5'),'dgqJx':_0x35cd('‮c6'),'umOwW':_0x35cd('‫56'),'ywalO':_0x35cd('‮c7'),'YYcFW':_0x35cd('‮c8'),'dIcHI':_0x35cd('‫c9'),'qhsvn':_0x35cd('‮ca')};return new Promise(async _0x1983b3=>{if(_0x1d42d3[_0x35cd('‫cb')](_0x1d42d3[_0x35cd('‫cc')],_0x1d42d3[_0x35cd('‫cc')])){const _0x4e7f2f={'url':_0x35cd('‮cd'),'headers':{'Accept':_0x1d42d3[_0x35cd('‫ce')],'Content-Type':_0x1d42d3[_0x35cd('‫cf')],'Accept-Encoding':_0x1d42d3[_0x35cd('‮d0')],'Accept-Language':_0x1d42d3[_0x35cd('‫d1')],'Connection':_0x1d42d3[_0x35cd('‫d2')],'Cookie':cookie,'Referer':_0x1d42d3[_0x35cd('‮d3')],'User-Agent':_0x1d42d3[_0x35cd('‮d4')]}};$[_0x35cd('‫d5')](_0x4e7f2f,(_0x45f758,_0x2e56c7,_0x370931)=>{if(_0x1d42d3[_0x35cd('‮d6')](_0x1d42d3[_0x35cd('‫d7')],_0x1d42d3[_0x35cd('‫d7')])){try{if(_0x1d42d3[_0x35cd('‮d8')](_0x1d42d3[_0x35cd('‫d9')],_0x1d42d3[_0x35cd('‫da')])){if(_0x45f758){console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x45f758));console[_0x35cd('‮9')]($[_0x35cd('‫1d')]+_0x35cd('‮db'));}else{if(_0x370931){_0x370931=JSON[_0x35cd('‫68')](_0x370931);if(_0x1d42d3[_0x35cd('‮d6')](_0x370931[_0x1d42d3[_0x35cd('‮dc')]],0xd)){$[_0x35cd('‫33')]=![];return;}if(_0x1d42d3[_0x35cd('‫cb')](_0x370931[_0x1d42d3[_0x35cd('‮dc')]],0x0)){if(_0x1d42d3[_0x35cd('‮d8')](_0x1d42d3[_0x35cd('‫dd')],_0x1d42d3[_0x35cd('‫dd')])){console[_0x35cd('‮9')](''+JSON[_0x35cd('‮60')](_0x45f758));}else{$[_0x35cd('‫26')]=_0x370931[_0x1d42d3[_0x35cd('‫de')]]&&_0x370931[_0x1d42d3[_0x35cd('‫de')]][_0x35cd('‫28')]||$[_0x35cd('‮29')];}}else{$[_0x35cd('‫26')]=$[_0x35cd('‮29')];}}else{console[_0x35cd('‮9')](_0x35cd('‮5d'));}}}else{$[_0x35cd('‮9')]('','❌\x20'+$[_0x35cd('‫1d')]+_0x35cd('‮48')+e+'!','');}}catch(_0x78b572){$[_0x35cd('‫2b')](_0x78b572,_0x2e56c7);}finally{_0x1d42d3[_0x35cd('‮df')](_0x1983b3);}}else{$[_0x35cd('‫2b')](e,_0x2e56c7);_0x370931=null;}});}else{data=JSON[_0x35cd('‫68')](data);if(data[_0x35cd('‫90')]){console[_0x35cd('‮9')](data[_0x35cd('‫90')]);}}});}function getCodeList(_0x37f539){var _0x4f7e06={'ygjTm':function(_0x264c87,_0x3db1e7){return _0x264c87===_0x3db1e7;},'Rjluc':_0x35cd('‮e0'),'mLAzN':function(_0x2bcbd2,_0x208f0d){return _0x2bcbd2!==_0x208f0d;},'vYrIL':_0x35cd('‫e1'),'zDZUH':_0x35cd('‫e2'),'sFjFM':function(_0x3f9d7d,_0x24e331){return _0x3f9d7d(_0x24e331);},'mbnRI':_0x35cd('‫e3')};return new Promise(_0x34e780=>{var _0x3763b3={'rIZXz':function(_0x58d681,_0x43d5d0){return _0x4f7e06[_0x35cd('‮e4')](_0x58d681,_0x43d5d0);},'htdQa':_0x4f7e06[_0x35cd('‮e5')],'aVXgu':function(_0x3d1f32,_0xdc6601){return _0x4f7e06[_0x35cd('‮e6')](_0x3d1f32,_0xdc6601);},'DwUXf':_0x4f7e06[_0x35cd('‮e7')],'MOZMZ':_0x4f7e06[_0x35cd('‫e8')],'PcIjK':function(_0x44f5da,_0x5eef88){return _0x4f7e06[_0x35cd('‮e9')](_0x44f5da,_0x5eef88);}};const _0x30fe0b={'url':_0x37f539+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':_0x4f7e06[_0x35cd('‫ea')]}};$[_0x35cd('‫67')](_0x30fe0b,async(_0x38bd17,_0x5f5256,_0x5bddfc)=>{try{if(_0x38bd17){$[_0x35cd('‮20')]=![];}else{if(_0x3763b3[_0x35cd('‫eb')](_0x3763b3[_0x35cd('‮ec')],_0x3763b3[_0x35cd('‮ec')])){if(_0x5bddfc)_0x5bddfc=JSON[_0x35cd('‫68')](_0x5bddfc);$[_0x35cd('‮20')]=!![];}else{$[_0x35cd('‮20')]=![];}}}catch(_0x5f1581){$[_0x35cd('‫2b')](_0x5f1581,_0x5f5256);_0x5bddfc=null;}finally{if(_0x3763b3[_0x35cd('‮ed')](_0x3763b3[_0x35cd('‫ee')],_0x3763b3[_0x35cd('‫ef')])){_0x3763b3[_0x35cd('‫f0')](_0x34e780,_0x5bddfc);}else{console[_0x35cd('‮9')](_0x35cd('‮5d'));}}});});};_0xodk='jsjiami.com.v6';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }