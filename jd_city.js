/*
城城领现金
活动时间：2021-03-20到2021-03-24
更新时间：2021-03-20 22:55
脚本兼容: QuantumultX, Surge,Loon, JSBox, Node.js
=================================Quantumultx=========================
[task_local]
#城城领现金
0 0-23/1 * * * https://gitee.com/lxk0301/jd_scripts/raw/master/jd_city.js, tag=城城领现金, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/jd.png, enabled=true

=================================Loon===================================
[Script]
cron "0 0-23/1 * * *" script-path=https://gitee.com/lxk0301/jd_scripts/raw/master/jd_city.js,tag=城城领现金

===================================Surge================================
城城领现金 = type=cron,cronexp="0 0-23/1 * * *",wake-system=1,timeout=3600,script-path=https://gitee.com/lxk0301/jd_scripts/raw/master/jd_city.js

====================================小火箭=============================
城城领现金 = type=cron,script-path=https://gitee.com/lxk0301/jd_scripts/raw/master/jd_city.js, cronexpr="0 0-23/1 * * *", timeout=3600, enable=true
 */
const $ = new Env('城城领现金');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message;

var _0xodH='jsjiami.com.v6',_0x550c=[_0xodH,'XMOZVhlp','wqDCkcO/w6TCmQ==','wrJMLsKFwqQ=','5LuB5LqD5p+o5YuR5Zm56Kys6Zei5pSb5o+F5LqG56uk77y46K2O5qKJ5p+16Iao6LmS6KyU5aa2572657mV5oOm5YaY','wrrDnW3CucKh','ZUXCnFHCpA==','f0jCgsOTPA==','K8KocA7CnA==','NCIIQcKfwr4=','WRl/','5LmP5Lif5p6B5YqK5Zi/6K6H6Zeo5pSg5oyW5Li+56qw77256K2c5qGw5p2J6Iad6Lu+6K2/5aWW576P57uc5oOk5YSG','w6TDkkRhwrjCkQ==','w5jDlUR9wrM=','wr87IVLDpQ==','w7PDsWZrwrc=','QUNjfSk=','w7lVw5JQw5M=','wpNiw75YMg==','Ow3CtsKuwo4=','PcKuw5TCtQ==','wq7DoHXCkMK1w77CiA==','wod6wqlo','Z1LDpWLDqcO7wqTDuA==','MsOTLw==','d8K/w6bComTDpGxa','SMOvwq/DsgU=','wqldBQ==','B8KJCntuAxk=','wox1wogzw4TClgrCiw==','XMOaex5gwp4N','wq/CmcOwwpXCrsKGPwRx','w6NBw4IAw6dUNg==','asOCcMKrLMKzw5J5OA==','w7kzwpfCn8K+w40=','fcOyGMOaQmnCsMKBfcK9w6DCvSfCmMOhwqN6wqgcWMKxwofCnxlhZ8OXw43DlHEmQEN8','w4gowr/Cv8Ktw6fCmsONIMKXwrgEwoluw67CpMK8NAzDp8KIfMKuwq7CtRE9w6LCpsK+w5/Cg8OZRMOWDcK3XsKEcwjDvSrDmXLDhFLCvsOYwrbCgMKKw5xgX2lTw5cuawPDjC1LHTTCnlg3W19UwqHDhXrCmsOXwo82IC3DrwXDln7DmMKXEsKmJj1Xw6TCoyg8wpIO','CMK4KkZ2','CMKYCm98TVfCpwV0NWXCpHXDqjLCjh3DrcOgbsOMw7fCnDIGI8KJwrd3w67DisKeMgcuwpLDjUsZwp7CgcK6','HsKwXw==','fkvCrMOV','44O+5o2h56W844KC6K6W5YeF6I2x5Y6u5LiB5LuE6LeL5Yyh5LiQUcOwwqAlWcOqwqjnm6LmjK3kv4bnlJkVw4XDssK9BRHnmYPku6rku4fnrKbliYToja/ljIU=','wrzDq0LCtMK7','UcO6fMKMFQ==','woLDlCjDtBXDpQ==','wqA3w5TDscKp','d1PCkUzCtA==','wrnCt8O1w6bCrg==','wo8Kw4fDoMKiO8O6dw==','OcO5wqMXwqVnwpvDmA==','Z8OEwpTCpgnCi1k=','Uk/CtQ==','44KH5o2256SM44CZwrXCmcO8PcK7BeW0ueWmi+aUmQ==','5Li75Lq66LSQ5Y+/','w6ghw6cxdw==','OcOUOsOXasKFegI=','wo7or5Pphbvml5Tnm73lvbXoj6DljpQFw49cwpLDsmPCsGbCvkDDvsO7wpYFw7BUw4LCuHzDicOuw4A2w4pnV2IHw6HDgnXDqsKFWB5Tew3DvMO4wodgwrUC','aB3Di8KCwo3DgQ==','Q3fDl0M=','woXCmMO7wpvCvw==','wrnChcO6wozCicKCGCU=','wpDorqvphLXmlYTnmqzlv73ojb7ljagRwrnCvgXChT8=','woQbw7TDh8K4','OMKuw5rClcOxG8K5KcKEUkxERQ==','wqTDqmnCssKgw7U=','wp/CgsO+worCssKQ','worDkDLDsg==','w6LDvlJfwqE=','bcKxeCw=','wrJlw6VlNTnDoQ==','wpotKX/Dtw==','WcOvwqrDtQ==','wqZTFhnDuA==','Z3flp4Hot6zDmA/ljr/lmpkuYg==','w6cmw601Y8OsTg==','wrMgN0I=','SMOddsOuKMO4w4tXUsOhw7lZ','w6bCoFLChsKRw4/Cv8KiFV0bYsOm','wr1Lwo9B','wrZ5w7FFLjTDq0piUm4=','w4Vhw6NPLgU=','O8O4N8OzQw==','w6koworCncK5w4/CoMOYCw==','Y8OuwqzCkw0=','XcOWFsOiaw==','wrTClcK7wprDmQ==','w4VZBcOQEz4=','PE5SwrnCucOyScODwrVHXcOtw7c=','LngJwrnClMOew77DjMOOw7FGBMO/','XsKRXzo/','DhMndsKjwotiXnVR','wrNBw7JeKQ==','BsOuwqcVwps9wp/DrcKgw5YjbcOxVlRKwrw0w5XCh3DDlmLCusKYZsKLw4h3VMKnWjAfKC7CjcKywqMjPTcdLSJNE8OeJMOrw49Hw5jDr31Ywq5OSMOwwrFrwpHDtE52w4jCtMOyCjZPMErCsylz','DsO2D8OpVA==','McKxw4TCtsK1WsKvKcKhUUlVU0DCoSs8','w4IJwrLCjMKk','w6law49ww7A=','G8K3TArCpVkZHRvChcOrw49nw4nDvMKsDAEmECh3MUNvw4JALMOkShPCrk3Ckg1qwqzCmXA/SMOnw7w=','WMOWewNewo0Jw5E3wq1IEcKJTMKEw5A=','esKWdQUx','wq3DlhHDmTM=','wobCvsOzw6XCvA==','wpdewpcOw4Q=','w6gNKQ9B','wpNsw79f','anLDiW3Dug==','w6MUDSNGA30pw4Y=','I04kwrvCng==','HMOrwrQWwo4=','w7PDh0Jp','dB3DoMKfwqjDh0rDny3CjMO+w6tkw4ZC','woptw7pCI11PNA==','6Lai5Y+T5bWE6bq1776K55yr5Lma5Ymy6YKP6K2Q56Cp','5aS25Y6c5YmZ5YmS56O477y1','WcKaw43Chw==','F8KiTBs=','cwvDtsKYwoXDkA==','wqXCqsO0w7HClzJ+w5jCqsKpd8KwYQdz','w6ghw7U9e8OlfsKw','ZQ/DscKM','aMO2wqvCiCM=','HBgpccKX','w6pww7Bsw5Q=','V3FAayTCjQ==','URdscg==','AcKmSw/Cuhc=','ecOpCw==','ScOQehRlwqQZw4g=','wpPCm8K2woM=','CcOLwrANwok=','RyzCmcOAcjhQwqDCmlw4w5Fi','esK4bT8gw47CosO9GcKdVMKxw4k=','VWRmTDs=','wrvDv2vCvMKg','ZlfCmEzCow==','L8ODwoo9wp4=','M1hUwrrCiw==','w4JLJsOa','JsKcN3d3','wpRBwrDDpwk=','Pi4U','GAk2fcKjwpltWmlAK8KjMsKpwow=','esO8wojCrBY=','TMODaQ==','wpPCkMOFw5rCiQJCw5vCmcKfUcK2SyRP','w4lEPQ==','wrViw6k=','w4IGw5cNUMOTf8KVfMOmw7zDvMOFw5dq','ScOlwpLCrDc=','DzkjfcKf','wo7Cn8Olwr3CqMKHEA==','EcKEMXRX','w5MPECFBAV4L','SnhSeCo=','w5Bcw5d3','BW5CwprCpA==','wo7ChcOKwpvCsg==','UDHCr8OKQw==','JMOJK8OVSsKDfgFj','wpjDpGrDnsOx','wqNzwojDqSM=','w4dPMsOM','AlMkwqnCpsO4w4Q=','wpBrw61ZMntpNB13wosHw5k=','w4DCq3ZT','DMKDGQ==','6aGo57iT5Y2D57mA5p+9','RRdqYAQ=','wqZMKMKX','WHDDuGDDiQ==','wpVYwovDqTs=','wod6w4dkCg==','w4BFLA==','6I+T5b6rdg==','w7QBCys=','w6g5wovCgcK7w5w=','w5flhYzvv5blhbHorpnDsQ==','VjXDqVrDvcOm','I8OSLcOdSMKndhRy','E8KYDHZhEBHDrh4=','QsOhwqQ=','wpluwrdl','wqEOw5Md6K+45rOC5aSG6Lex77yi6K2U5qG/5p2W57+Q6LW96Ye06KyE','Ny8FYcKOwrg=','bSN+WTU=','UgVoaQY=','YsO6woTDrRA=','wrVUwo3DqxDCvxk=','w7gxwpDCg8K5','wq/DqnPCscK1w6nCgQ==','I8KDEXRmEgvDgiM=','ZMKxfA==','SsOCcMKrLMKz','MMKiw4HCssO8CA==','wrFFPcKEwqTDssKzJ0c/FcOFwrI=','w5k9ahY=','w6UhEsK7w4c=','T2XCpUbCiw==','H8KWYDDCrg==','HEwzwrjCqg==','w6bDjHB9wqI=','w6APDD4=','wrpQwpDDuBU=','ZcONwrPChiw=','FFI8wpnCgg==','SMOLfRNvwo0Fw4MG','BBHDimborabms5Dlp4notLnvvp3orZzmopDmnIDnvLjotaLphpPorLw=','wpTCm8KtwoTDtg==','NSEPQQ==','cMOXIMOMaA==','IcKmw4LCgMOO','wptgwr1FSsKj','Vn3CoMOFOA==','wr97wpUrw4g=','w4F7w7N1w5w=','YsOYwr/CjBzCkA==','w7wPGA==','5LqG5Luf5Lmp6LeV5Y285p+G5o6C5L6aw6jDtsO2ZsOUK27CtCc05bOr6YS357uc5py26IWH5pyU6IaZ5bqQ55ql5Ymx5YuW56KIw6o=','OsKxfC7CmQ==','UsORax95','w4UtdxlIBQ==','DMKJEHh7Hw==','Mi4GQcKE','DsKJCUxnFgrDrSR+MG7DuQ==','TEzCvkLCsQ==','w78CFS9LEA==','OjALCsKRw6RPfxVmB8KB','LMKjwoDCpcO3','w51sw4cTw6o=','woDDm1rDusOT','JsKkw57Csg==','SXLDlXLDuQ==','wpbDuHrDrsOJR3nCphvDuCBaDsO4QUxt','wobClMO2w5TCpA==','w44hTDNf','w7Z+w7ggw7c=','w5HCrnVXwrXCnD4zexnDjC0mcXcQwph3wqUkAmfClFcOfMOMw6jCvsKcwoYew6Q=','w4U1w6ABaQ==','TjPCh8OjNnlGwqDCv189w4B0w7bDhsKiw54=','woXCp8OewpbClA==','w4E4OMKGw5I=','O8KAw6DCs8OA','SD/DvQ==','BX5/woXChMOQcsO6wo0=','YsOYwr8=','GGtgwok=','BVVjV+iuv+ayu+Wmrei2lO+9gOiuj+ajjeafoue/hOi3j+mEpeiugQ==','SMOOwrnCsB4=','wqXCmcOvworCgA==','QsO+wpnCizY=','JsO1wpICeg==','w5BSw5Zww7I=','ZBBRQiI=','S8OgwrU=','w4UdEcKWw7PCozQ=','agDCusOKRQpqwoTCi3Yfw7tVwp/CtQ==','Y1rCrcOZGw==','wooQGcKaw67CgiY8w6zDtsKiMsOSBGjCtSxswrvClR1pNFcdwosQw7Z9wqfDkA==','wp3DvG3CnsKW','GsOeFcOWVA==','WlLCpA==','Z1LDpXPDv8O8wqPDoMO/wrciwp7Dqg==','X8OCM8O/YhbDjcOxXcKKw4zDnR4=','dBrDqGbDng==','wrRzwq3Cp8KSw7rClsO/NcKTwp86wr8=','fBrCq8OBRRhlwoDCl2c=','csOjGMOOUCfDvg==','Wm7ClMOx','acOSwqzCrQ/CllY=','Y8OpSsKB','ek7CoMOAH8KcJG/CoTo8DgXCn03CrMOuMMO6w7TCpcOGNQNAwp47wr/Ct8KxwpfDosKUwpLCgMO2KSIVwp4Bwqt+wostfSp2B28yRi5ewpPDqsOBw7vChzQ0wp1OwpZhw5nDjMKWK8KAwp/DpWjCi8K0wqEc','w7Vcw4wgw68=','wrDCrcKYwrnDpg==','fhtCRA8=','wqbClcOyw5fCog==','REdffwY=','w7QMwrrCv8Kv','YmjCu8OTHQ==','e8Kww7/ChG4=','w4Unfg==','wr4HLmvDvg==','YxzDk8KGwrg=','aMO2Vhdn','w43DlWxZwpA=','E8KFw4zCjcOy','wq0bw5bDvsK8','w4XCkWlBwpY=','GcOjwqkIwqo=','R8OfT8KXHQ==','w5lfw7Bxw48=','cCNrdQM=','wokXw5DDu8OWdcK4eMO9wqjCo8Oiwo88w63DtMKlwpfCo8K3Y8KBwqBxFcKYcxEBJFFzeMKIwqEhw44+fcOjJcKzwpkowqbCksKawoo=','ccKLw5vCiFY=','w4kuwoHChsKO','w4geYwhS','w60gw6Q=','wp/CgsOtwpfCqcKEHCY6','woxrG8O26K6A5rCZ5aaN6LeV776Z6K+G5qOb5p+U57y+6LWx6Yec6K65','OsOWKMOrdA==','w6hPAMOTAQ==','UcKUw54=','NMOXwrY4eQ==','wo1Tw45gLw==','w4xcw4M=','ZsOyHsODXzTDtsOIZQ==','YMOWwrXCrA==','fEXCpg==','wpB3w75COV9vNgE=','wq5COw==','NcOHPMOj6K+G5rCR5aau6LaL77yQ6Ky65qGJ5p2257yb6LWZ6YWG6KyS','w70LDh14','TMOcwq3CvyE=','ZMK7fRoV','V8OUwpHDqTY=','w7XDj3dPwr8=','wo0Mw4M=','6Lex5Y645bar6bu2776c55yn5Lqd5Yqq6YOt6K2H56GY','T13CoFjCoA==','w4NGw69Uw4E=','wrvDgGDCjMKa','wrZ9BSPDng==','5Lqi5Lqr5p+V5Ymo5ZiG6K2d6ZeZ5pSQ5o6A5Liy56iu77+c6K2D5qK45p226IS06LqR6K+D5aam572r57uq5oC05YW3','wqNmBcKuwoc=','wrjDoVDChcK6','bQHDog==','6aOQ57mp5Y6o57iV5pyF','wpzCl8Otwo3Cog==','UMKhw57CgVI=','MsKTw6XCn8O3','S8OEZcKDKsKyw4Q=','6I245b6Nw4c=','TVnCoV7CqcOD','w5Xlh5LvvILlh6borLcL','wqt7wpM5','w6g5wozCl8K4w4zCrA==','w6bDtHRPwrc=','wq5HMMKuwoU=','wqbCtMOZwqvCiw==','RcK1w5zCjXU=','azbDtUjDuQ==','wqNkw75UPx7Dq0BORRIkJQ==','w6xPw6YWw4M=','IcKBJ3N8','w7PCp3BhwoQ=','fk/CtsOjB8OGP1rCijo2Dk0=','E8KIOXB2','R8OgwqfDpBg=','wqhAwq3DhCg=','wqRpw49JBA==','RyLCoMOJYg==','w7kOGy9Q','CFk4wovCs8Oz','wr5UwpfDqAXCow==','wrTCv8OGwqnClA==','wqtDOMKTwrk=','VyDDtkbDpQ==','w4kAw6UVYQ==','eSDCnsOkSg==','TcOhwqfDpA==','wrJZw7liKg==','wozCrcKtwoPDsA==','cQ/Dt8Kewow=','w6Q3PMK6w44=','w6fDl3hfwqQ=','WyzCmsOwdT1H','w74JHCFmBXkq','wrdZwq0Jw6I=','YMOewrvCogDCg1oF','fDrCi8OhVDhPwqA=','w68mw6A/QcOhWsKx','w4IWAsKgw6PCjSBkw5jDscOzccOC','RHjDnkPDlA==','5LiH5Lq65Lqm6LSA5Y2b5bK/6KWw5YiW5Yil55m05aSa5Yyb','wr3DnmjDlsO4','wrHCtcK8wrPDiw==','wrBQworDqg==','Y8KVXB4I','w6M+wrTCn8K/','5b+X5aaE6I+u5Y+x','wpvDsGPDsg==','6YSp572S5peR5Liaw40=','wrbDmFrDjsOJeF7Ckz3DmBFsC8OKcw==','wqlpw5NSPA==','eXjDi0rDtA==','fhBWSg4=','worCk8K8wpzDnRXCl8Km','d3rCjMO6Ag==','wq3DoXE=','Zl1nRxfCqsOUw7AePU5Iw5Flwrs=','UcO1VwJL','CsKmJmdF','w6hLw5E=','bw/DqMKI','w6jDjlfCnOiso+azn+Wnkei3hu+9nuivr+aileafk+e/pOi1temGq+itsA==','wrXCt8On','wpQGDX7Dj3/DmMObP8O1GsO6wp97Sw==','wqFBwpXDpgU=','w7vDiVE=','AMOvwqgCwp9u','wopww4JEM10=','worCmcOtwrvCpsKAHQ==','worCrMKuwofDnA==','FsK2eTPCug==','McKBQhfCgQ==','asOkS8KZGsKFw6lyLsOHw5V7R8KRw70=','w58DGcKaw78=','w4AcEg==','SXFdeTzCkQ==','5Lqw6LW65YyP55mw','wr5tw7JD','5YqW5Yqn56OTIQ==','wqpQCB/Ds8KM','wqBUwo3DrB7Crx0=','Bl0lwok=','FMKwdC3CtA==','Fg0HccKQ','SkXCisO1BQ==','w6B6McO4PA==','VMO+wpHDkgs=','w4FDw5Rvw77ClUtpw47Co3dIwpzDjijDn8OmHWfDsAsewrYRwqrCqsKibsOdDQwO','TGbDikrDhcOawpDDi8OXwp8Jw7/DhsOBwprDpwdlwrhRL8OmwqYWwrJswoDDryR7UlLDrg==','ScO0wqrDsUxCRCzCu1bDtcO1N8Olw4PDlA8=','w6A0w5XCl8K5','w7sFGjoFBXgmw4nDrg==','wr5PKhltNksOw7jDjsKwO8KM','b1BmXw==','Hn55wpzCmcKNNMKzwoNxNsOJw4dEGT0fG8OJwpBoXMO9fMOnTVbCpsKvLwMnwrfCk8Ohalp+w4JqNMKeHcKUIAvCosKBZsOew53DpMOgRA==','ScOcwp3Cvzw=','w4bCsU5Dwow=','w6x7w6tXw7I=','woTCgsOrwo7CtMOZWm80wo7DucOmw5rClm0Cw5rCmzsGw7UWwpVRAR51NWs2J2DDo8KjwrTCqDkKE0zDtsKRw5XDkUfDkidGMA==','w4wmbw==','fzJHRjLCn25UccKHHcOTw5I=','wppIw4BzCRjDlntqcRYYAw==','wpR/FizDhw==','UhNsdwDCrl0=','b8OHJ8OiWQ==','MMOYLcOYRcKQdg==','XhHDkWfDuQ==','w5IAw4YwfA==','A8KsSw4=','ZhzDgmvDpA==','wqbCkMOhw5vCrA==','GmVq','SjHDt0o=','w5XDkF7DnuitoeaxqeWkp+i3t++9o+itquaikuafhue8nui1oOmHreivqw==','GcK+w5/CjcO1','GmVqwqnCmMOF','wrhcCMKVwpc=','w6o9worCh8Ky','GsKwdBXCsQpY','Q3/DmU3DosOYwpzDmg==','RC9zXCg=','Yw/DtsKI','HsKOw5XCr8OM','6I2y5b6lQg==','wqFTFhs=','w4LCu3ZOwrDCiw==','wofCj8KtwoXDthrCjsKXwqHDgcKHw6nCkRvCtQ==','TeWHnO+/qeWEgeiusMKz','TGd/cS/CkMOy','w5ZPw5Igw7Y=','w4/Dn394wo8=','wo9sw6s=','5LqR5Lun5p605YmH5ZmJ6L2y5Zun56mn5paY5oyb','w4Vdw5I=','w7vDiVFNwqTChA==','wr7CjMOdw5nCow==','jKLsjiamIi.conSGxNMGm.v6HXp=='];(function(_0x1655d2,_0x563a16,_0x6ef2c2){var _0x17f154=function(_0xe4d82a,_0x2bbc3c,_0x3c7e7d,_0x566927,_0x236ca7){_0x2bbc3c=_0x2bbc3c>>0x8,_0x236ca7='po';var _0x5bda3b='shift',_0x1cfb34='push';if(_0x2bbc3c<_0xe4d82a){while(--_0xe4d82a){_0x566927=_0x1655d2[_0x5bda3b]();if(_0x2bbc3c===_0xe4d82a){_0x2bbc3c=_0x566927;_0x3c7e7d=_0x1655d2[_0x236ca7+'p']();}else if(_0x2bbc3c&&_0x3c7e7d['replace'](/[KLInSGxNMGHXp=]/g,'')===_0x2bbc3c){_0x1655d2[_0x1cfb34](_0x566927);}}_0x1655d2[_0x1cfb34](_0x1655d2[_0x5bda3b]());}return 0x79e5d;};return _0x17f154(++_0x563a16,_0x6ef2c2)>>_0x563a16^_0x6ef2c2;}(_0x550c,0x1e6,0x1e600));var _0x56ae=function(_0x5cb671,_0x361176){_0x5cb671=~~'0x'['concat'](_0x5cb671);var _0x3282f5=_0x550c[_0x5cb671];if(_0x56ae['wlQChc']===undefined){(function(){var _0x26b1d0=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x37d200='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x26b1d0['atob']||(_0x26b1d0['atob']=function(_0x3eafe5){var _0x5057bb=String(_0x3eafe5)['replace'](/=+$/,'');for(var _0x340ea8=0x0,_0x53ee50,_0x43959e,_0x4f859b=0x0,_0xd8240f='';_0x43959e=_0x5057bb['charAt'](_0x4f859b++);~_0x43959e&&(_0x53ee50=_0x340ea8%0x4?_0x53ee50*0x40+_0x43959e:_0x43959e,_0x340ea8++%0x4)?_0xd8240f+=String['fromCharCode'](0xff&_0x53ee50>>(-0x2*_0x340ea8&0x6)):0x0){_0x43959e=_0x37d200['indexOf'](_0x43959e);}return _0xd8240f;});}());var _0x567d1b=function(_0x3c43fb,_0x361176){var _0x70f1a4=[],_0x94ac57=0x0,_0x368326,_0x3bd48d='',_0x11fa7e='';_0x3c43fb=atob(_0x3c43fb);for(var _0x481f92=0x0,_0x134c33=_0x3c43fb['length'];_0x481f92<_0x134c33;_0x481f92++){_0x11fa7e+='%'+('00'+_0x3c43fb['charCodeAt'](_0x481f92)['toString'](0x10))['slice'](-0x2);}_0x3c43fb=decodeURIComponent(_0x11fa7e);for(var _0x13cb2e=0x0;_0x13cb2e<0x100;_0x13cb2e++){_0x70f1a4[_0x13cb2e]=_0x13cb2e;}for(_0x13cb2e=0x0;_0x13cb2e<0x100;_0x13cb2e++){_0x94ac57=(_0x94ac57+_0x70f1a4[_0x13cb2e]+_0x361176['charCodeAt'](_0x13cb2e%_0x361176['length']))%0x100;_0x368326=_0x70f1a4[_0x13cb2e];_0x70f1a4[_0x13cb2e]=_0x70f1a4[_0x94ac57];_0x70f1a4[_0x94ac57]=_0x368326;}_0x13cb2e=0x0;_0x94ac57=0x0;for(var _0x2125f3=0x0;_0x2125f3<_0x3c43fb['length'];_0x2125f3++){_0x13cb2e=(_0x13cb2e+0x1)%0x100;_0x94ac57=(_0x94ac57+_0x70f1a4[_0x13cb2e])%0x100;_0x368326=_0x70f1a4[_0x13cb2e];_0x70f1a4[_0x13cb2e]=_0x70f1a4[_0x94ac57];_0x70f1a4[_0x94ac57]=_0x368326;_0x3bd48d+=String['fromCharCode'](_0x3c43fb['charCodeAt'](_0x2125f3)^_0x70f1a4[(_0x70f1a4[_0x13cb2e]+_0x70f1a4[_0x94ac57])%0x100]);}return _0x3bd48d;};_0x56ae['jyFHIu']=_0x567d1b;_0x56ae['NTqZLN']={};_0x56ae['wlQChc']=!![];}var _0x2cca45=_0x56ae['NTqZLN'][_0x5cb671];if(_0x2cca45===undefined){if(_0x56ae['yERGgB']===undefined){_0x56ae['yERGgB']=!![];}_0x3282f5=_0x56ae['jyFHIu'](_0x3282f5,_0x361176);_0x56ae['NTqZLN'][_0x5cb671]=_0x3282f5;}else{_0x3282f5=_0x2cca45;}return _0x3282f5;};if($['isNode']()){Object[_0x56ae('0','!(5S')](jdCookieNode)[_0x56ae('1','))7H')](_0x3d48c1=>{cookiesArr[_0x56ae('2','8B]&')](jdCookieNode[_0x3d48c1]);});if(process['env'][_0x56ae('3','7ghW')]&&process[_0x56ae('4','4NbX')][_0x56ae('5','o&vr')]===_0x56ae('6','PBHY'))console[_0x56ae('7','R8lf')]=()=>{};}else{cookiesArr=[$[_0x56ae('8','87Ye')](_0x56ae('9','vxAS')),$[_0x56ae('a','(Xg7')](_0x56ae('b','OoGu')),...jsonParse($[_0x56ae('c','p!sM')](_0x56ae('d','ybFC'))||'[]')['map'](_0x360bc2=>_0x360bc2[_0x56ae('e','zrnP')])]['filter'](_0x3b4f99=>!!_0x3b4f99);}const JD_API_HOST=_0x56ae('f','TiBm');let inviteCodes=[_0x56ae('10','zrnP'),'RtGKzOSsRAije4PLRdBm38XL64U7ndWd9na4bcj-oomWbq6q0g@W9GNoI_SO0_JAd3nZZR_mpt-ItpXx1r9RKvGiRlofqDERxU'];!(async()=>{var _0x486dda={'QjAPe':_0x56ae('11','87Ye'),'tdEao':_0x56ae('12','87Ye'),'xWcLP':function(_0x263319,_0x29306b){return _0x263319<_0x29306b;},'ATpzE':function(_0x2869ad,_0x1e986b){return _0x2869ad(_0x1e986b);},'HoCgq':function(_0x34acac){return _0x34acac();},'exPLT':function(_0x713f0e){return _0x713f0e();},'wJyKE':function(_0x249167,_0x508955,_0x51962f){return _0x249167(_0x508955,_0x51962f);},'mNiaP':function(_0x499684,_0x3c5d81){return _0x499684<_0x3c5d81;},'xAEXS':function(_0x33e072,_0x572871){return _0x33e072(_0x572871);},'DSQiV':'status','uXdWw':function(_0x22efce,_0x6eeba0){return _0x22efce===_0x6eeba0;},'MbpXg':function(_0x5de7cb){return _0x5de7cb();}};if(!cookiesArr[0x0]){if(_0x486dda['QjAPe']===_0x486dda['QjAPe']){$[_0x56ae('13','(qa2')]($[_0x56ae('14','hFK1')],_0x56ae('15','gMKc'),'https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x486dda[_0x56ae('16','))7H')]});return;}else{$['logErr'](e,resp);}}await requireConfig();for(let _0x3e310e=0x0;_0x486dda[_0x56ae('17','ybFC')](_0x3e310e,cookiesArr[_0x56ae('18','gMKc')]);_0x3e310e++){if(cookiesArr[_0x3e310e]){cookie=cookiesArr[_0x3e310e];$['UserName']=_0x486dda[_0x56ae('19','M9E!')](decodeURIComponent,cookie['match'](/pt_pin=(.+?);/)&&cookie['match'](/pt_pin=(.+?);/)[0x1]);$['index']=_0x3e310e+0x1;$['isLogin']=!![];$['nickName']='';message='';await _0x486dda[_0x56ae('1a','O!c5')](TotalBean);console['log']('\x0a******开始【京东账号'+$[_0x56ae('1b','s4!#')]+'】'+($[_0x56ae('1c','M9E!')]||$[_0x56ae('1d','dcas')])+'*********\x0a');if(!$[_0x56ae('1e','I*)r')]){$[_0x56ae('1f','O!c5')]($['name'],_0x56ae('20','Zsij'),_0x56ae('21','Zsij')+$[_0x56ae('22','%q4O')]+'\x20'+($[_0x56ae('23','4NbX')]||$['UserName'])+_0x56ae('24','p!sM'),{'open-url':_0x486dda['tdEao']});if($[_0x56ae('25','c4t$')]()){await notify['sendNotify']($[_0x56ae('26','7ghW')]+'cookie已失效\x20-\x20'+$['UserName'],'京东账号'+$[_0x56ae('27','OoGu')]+'\x20'+$[_0x56ae('28','OoGu')]+_0x56ae('29','zrnP'));}continue;}await _0x486dda[_0x56ae('2a','M9E!')](shareCodesFormat);await _0x486dda['wJyKE'](getInfo,'',!![]);for(let _0x3e310e=0x0;_0x486dda['mNiaP'](_0x3e310e,$[_0x56ae('2b','!(5S')][_0x56ae('2c','))7H')]);++_0x3e310e){let _0x17e884=await _0x486dda['xAEXS'](getInfo,$['newShareCodes'][_0x3e310e]);if(_0x17e884[_0x486dda['DSQiV']]&&_0x17e884[_0x56ae('2d','OoGu')]==='3'||_0x17e884[_0x56ae('2e','gMKc')]&&_0x486dda[_0x56ae('2f','Zsij')](_0x17e884[_0x56ae('30','ncEN')][_0x56ae('31','&4cM')],-0xb)){break;}}await _0x486dda['MbpXg'](getInviteInfo);await _0x486dda[_0x56ae('32','XF9j')](city_lotteryAward);await $[_0x56ae('33','PBHY')](0x3e8);}}})()[_0x56ae('34','R8lf')](_0x5230f0=>{$['log']('','❌\x20'+$['name']+_0x56ae('35','E5DV')+_0x5230f0+'!','');})[_0x56ae('36','%q4O')](()=>{$[_0x56ae('37','XF9j')]();});function taskPostUrl(_0x2090b2,_0x56b2de){var _0x2529ef={'lEnOg':function(_0x11e039,_0x3035db){return _0x11e039(_0x3035db);},'mYtZc':_0x56ae('38','ybFC'),'HPzHZ':'keep-alive','PodmJ':'application/x-www-form-urlencoded','WASwz':function(_0x10b933,_0xf1206){return _0x10b933(_0xf1206);},'QKMvx':_0x56ae('39','))7H'),'cMmxs':_0x56ae('3a','8B]&'),'YKVUp':'zh-cn'};return{'url':''+JD_API_HOST,'body':_0x56ae('3b','&4cM')+_0x2090b2+_0x56ae('3c','1csw')+_0x2529ef[_0x56ae('3d','4NbX')](escape,JSON[_0x56ae('3e','zrnP')](_0x56b2de))+'&client=wh5&clientVersion=1.0.0','headers':{'Cookie':cookie,'Host':_0x2529ef[_0x56ae('3f','I*)r')],'Connection':_0x2529ef[_0x56ae('40','TiBm')],'Content-Type':_0x2529ef[_0x56ae('41','TcCL')],'User-Agent':$[_0x56ae('42','Bw**')]()?process['env'][_0x56ae('43','r[lW')]?process['env'][_0x56ae('44','[Xkg')]:_0x2529ef[_0x56ae('45','ncEN')](require,_0x2529ef['QKMvx'])[_0x56ae('46','*HI7')]:$['getdata']('JDUA')?$[_0x56ae('a','(Xg7')](_0x2529ef[_0x56ae('47','&4cM')]):_0x56ae('48','dcas'),'Accept-Language':_0x2529ef[_0x56ae('49','4NbX')],'Accept-Encoding':_0x56ae('4a','!(5S')}};}function getInfo(_0x1592f6,_0x2b515a=![]){var _0x2b52fd={'UlvEC':function(_0x5283a7,_0x4b7a4f){return _0x5283a7-_0x4b7a4f;},'YubmU':'fvynj','GrrWY':function(_0x417428,_0x317e42){return _0x417428(_0x317e42);},'fAsAM':function(_0x380935,_0x52fafc){return _0x380935!==_0x52fafc;},'GXKUk':'GhFlG','JCToC':_0x56ae('4b','zrnP'),'paxtb':function(_0x214c3a,_0x57469c){return _0x214c3a(_0x57469c);},'eAvhb':function(_0x128709,_0x201c5f){return _0x128709*_0x201c5f;},'YkJgf':function(_0x2767bb,_0x28ad8a){return _0x2767bb===_0x28ad8a;},'CILXu':_0x56ae('4c','8KTR'),'ERYVa':function(_0x43f606,_0x38ebc5){return _0x43f606(_0x38ebc5);},'tKPex':function(_0xdeaa91,_0x58e375){return _0xdeaa91>_0x58e375;},'CgWJR':_0x56ae('4d','(qa2'),'Vgbfj':function(_0x157718,_0x4f8867){return _0x157718!==_0x4f8867;},'XDpVi':'bwGZX','xmVEi':'HkHiZ','GdsKV':function(_0x1f2fa1,_0x5ac7df,_0xa019d4){return _0x1f2fa1(_0x5ac7df,_0xa019d4);},'wdAdy':_0x56ae('4e','(Xg7'),'sFyHt':'904'};let _0x595f22={'lbsCity':'12','realLbsCity':_0x2b52fd[_0x56ae('4f','ncEN')],'inviteId':_0x1592f6,'headImg':'','userName':''};return new Promise(_0x321a05=>{var _0xd7246f={'FpIhx':_0x2b52fd[_0x56ae('50','gMKc')]};if(_0x2b52fd[_0x56ae('51','s4!#')](_0x2b52fd[_0x56ae('52','vxAS')],_0x2b52fd[_0x56ae('53','dm!J')])){$[_0x56ae('54','1csw')](_0x2b52fd[_0x56ae('55','7ghW')](taskPostUrl,_0x2b52fd['wdAdy'],_0x595f22),async(_0x439b6c,_0xef73bd,_0xac2e37)=>{var _0x2e875e={'ppURs':function(_0x354222,_0x54b087){return _0x2b52fd['UlvEC'](_0x354222,_0x54b087);}};try{if(_0x439b6c){if(_0x2b52fd['YubmU']===_0x2b52fd['YubmU']){console['log'](''+JSON[_0x56ae('56','dm!J')](_0x439b6c));console['log']($['name']+'\x20API请求失败，请检查网路重试');}else{_0xac2e37=JSON['parse'](_0xac2e37);}}else{if(_0x2b52fd[_0x56ae('57','[Xkg')](safeGet,_0xac2e37)){_0xac2e37=JSON[_0x56ae('58','dcas')](_0xac2e37);if(_0xac2e37[_0x56ae('59','Zsij')]&&!_0xac2e37['data']['result'][_0x56ae('5a','c4t$')][_0x56ae('5b','1csw')]){console[_0x56ae('7','R8lf')](_0x56ae('5c','p!sM'));}else{if(_0x2b515a)console['log'](_0x56ae('5d','E5DV')+(_0xac2e37[_0x56ae('5e','o&vr')]&&_0xac2e37[_0x56ae('5f','(qa2')][_0x56ae('60','c4t$')][_0x56ae('61','s4!#')][_0x56ae('62','%q4O')]));}if(_0xac2e37[_0x56ae('63','c4t$')]){if(_0x2b52fd[_0x56ae('64','I*)r')](_0x2b52fd[_0x56ae('65','*HI7')],_0x2b52fd[_0x56ae('66','8KTR')])){for(let _0x59e0ec of _0xac2e37['data'][_0x56ae('67','7Q&O')]&&_0xac2e37[_0x56ae('68','wR#*')][_0x56ae('69','(qa2')]['mainInfos']||[]){console[_0x56ae('6a','TiBm')](_0x59e0ec[_0x56ae('6b','(Xg7')]);await _0x2b52fd['paxtb'](receiveCash,_0x59e0ec['roundNum']);await $[_0x56ae('6c','TcCL')](_0x2b52fd[_0x56ae('6d','dcas')](0x2,0x3e8));}}else{$[_0x56ae('6e','D!il')]=$[_0x56ae('6f','ncEN')][_0x2e875e[_0x56ae('70','7Q&O')]($['index'],0x1)][_0x56ae('71','))7H')]('@');}}}}}catch(_0x1202e9){$['logErr'](_0x1202e9,_0xef73bd);}finally{if(_0x2b52fd[_0x56ae('72','O!c5')](_0x2b52fd[_0x56ae('73','dcas')],_0x2b52fd['CILXu'])){_0x2b52fd[_0x56ae('74','r[lW')](_0x321a05,_0xac2e37);}else{$['msg']($[_0x56ae('75','Bw**')],'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取',_0xd7246f[_0x56ae('76','87Ye')],{'open-url':_0xd7246f[_0x56ae('77','TpA7')]});return;}}});}else{if(process[_0x56ae('78','*HI7')][_0x56ae('79','*HI7')]){if(_0x2b52fd[_0x56ae('7a','I*)r')](process[_0x56ae('7b','ybFC')][_0x56ae('7c','s4!#')]['indexOf']('\x0a'),-0x1)){shareCodes=process[_0x56ae('7d','Bw**')]['CITY_SHARECODES']['split']('\x0a');}else{shareCodes=process[_0x56ae('7e','&4cM')][_0x56ae('7f','%q4O')]['split']('&');}}}});}function receiveCash(_0xc0f470){var _0xda1ca0={'ZSUdo':function(_0x539f0d,_0x32e77c){return _0x539f0d===_0x32e77c;},'yxAYY':'nABVe','mudIg':function(_0x96e73a,_0x5f3218){return _0x96e73a(_0x5f3218);},'uHtub':function(_0x33c4a5,_0x1c6657){return _0x33c4a5===_0x1c6657;},'IdGQV':_0x56ae('80','I*)r'),'qBqfR':_0x56ae('81','*HI7'),'ufBFe':_0x56ae('82','OoGu'),'XUfJT':function(_0x50ea33,_0x4a791d){return _0x50ea33!==_0x4a791d;},'WvXBP':_0x56ae('83','87Ye'),'LtGlp':'qTvVd','olafb':function(_0x34b669,_0x2ac69d){return _0x34b669(_0x2ac69d);},'OUxUh':_0x56ae('84','dm!J'),'sdOvN':function(_0xe7475d,_0x4b7d27,_0xf76e7d){return _0xe7475d(_0x4b7d27,_0xf76e7d);},'bsUeu':'city_receiveCash'};let _0x5be24e={'cashType':0x1,'roundNum':_0xc0f470};return new Promise(_0x41e3b7=>{var _0x1d171c={'bmhwn':_0xda1ca0['OUxUh'],'gqfEE':function(_0x59c880,_0x4a5d5b){return _0xda1ca0[_0x56ae('85','7Q&O')](_0x59c880,_0x4a5d5b);}};$[_0x56ae('86','8KTR')](_0xda1ca0[_0x56ae('87','r[lW')](taskPostUrl,_0xda1ca0[_0x56ae('88','OoGu')],_0x5be24e),async(_0x34d0c4,_0x187363,_0xadec7f)=>{if(_0xda1ca0['ZSUdo'](_0xda1ca0['yxAYY'],_0xda1ca0[_0x56ae('89','D!il')])){try{if(_0x34d0c4){console['log'](''+JSON[_0x56ae('8a','4NbX')](_0x34d0c4));console['log']($['name']+'\x20API请求失败，请检查网路重试');}else{if(_0xda1ca0[_0x56ae('8b','^FhP')](safeGet,_0xadec7f)){if(_0xda1ca0['uHtub'](_0xda1ca0['IdGQV'],_0xda1ca0[_0x56ae('8c','TpA7')])){Object[_0x56ae('8d','Bw**')](shareCodes)[_0x56ae('8e','[Xkg')](_0x362d54=>{if(shareCodes[_0x362d54]){$[_0x56ae('8f','1csw')][_0x56ae('90','SV9a')](shareCodes[_0x362d54]);}});}else{console[_0x56ae('91','87Ye')](_0x56ae('92','gMKc')+_0xadec7f);_0xadec7f=JSON[_0x56ae('93','wR#*')](_0xadec7f);if(_0xda1ca0['uHtub'](_0xadec7f[_0x56ae('94','IOVE')][_0xda1ca0[_0x56ae('95','7ghW')]],0x0)){if(_0xda1ca0['XUfJT'](_0x56ae('96','TpA7'),_0xda1ca0[_0x56ae('97','&4cM')])){console[_0x56ae('98','Bw**')](_0x56ae('99','[Xkg')+_0xadec7f[_0x56ae('9a','dm!J')][_0x56ae('9b','zrnP')]['currentTimeCash']+_0x56ae('9c','8B]&')+_0xadec7f[_0x56ae('63','c4t$')][_0x56ae('9d','qadu')][_0x56ae('9e','4NbX')]+'\x20元');}else{console['log'](''+JSON[_0x56ae('9f','87Ye')](_0x34d0c4));console[_0x56ae('a0','PBHY')]($[_0x56ae('a1','8B]&')]+_0x56ae('a2','%q4O'));}}}}}}catch(_0x19936c){$[_0x56ae('a3','*HI7')](_0x19936c,_0x187363);}finally{if(_0xda1ca0[_0x56ae('a4','wR#*')](_0x56ae('a5','wR#*'),_0xda1ca0[_0x56ae('a6','PBHY')])){_0xda1ca0['olafb'](_0x41e3b7,_0xadec7f);}else{cookiesArr=[$[_0x56ae('a7','TpA7')](_0x1d171c[_0x56ae('a8','zrnP')]),$['getdata']('CookieJD2'),..._0x1d171c['gqfEE'](jsonParse,$[_0x56ae('a9','))7H')](_0x56ae('aa','87Ye'))||'[]')[_0x56ae('ab','ncEN')](_0x4d74cb=>_0x4d74cb[_0x56ae('ac','ybFC')])][_0x56ae('ad','!(5S')](_0x32719f=>!!_0x32719f);}}}else{$[_0x56ae('ae','IOVE')][_0x56ae('af','iDxH')](shareCodes[item]);}});});}function getInviteInfo(){var _0x49ecd2={'kzkOB':_0x56ae('b0','QddF'),'eQLfY':function(_0x3682e8,_0x3f9886){return _0x3682e8===_0x3f9886;},'mdbwv':'hJDoK','wmoFW':_0x56ae('b1','O!c5'),'FWauW':function(_0x3d62d5,_0xde11d7){return _0x3d62d5(_0xde11d7);},'aHWvK':_0x56ae('b2','(qa2'),'xpeTm':function(_0x2d8136,_0x4cc8e8){return _0x2d8136==_0x4cc8e8;},'qjFut':'string','haiwd':'city_masterMainData'};let _0x37ff0a={};return new Promise(_0x333774=>{var _0x9002aa={'guimc':function(_0x5d59ed,_0x2db37f){return _0x49ecd2[_0x56ae('b3','[Xkg')](_0x5d59ed,_0x2db37f);},'aFjEF':_0x49ecd2[_0x56ae('b4','Zsij')]};$[_0x56ae('b5','dm!J')](taskPostUrl(_0x49ecd2[_0x56ae('b6','TpA7')],_0x37ff0a),async(_0x44e7d6,_0x158067,_0x16c671)=>{var _0x4baf6e={'IrDTO':function(_0x5a02cd,_0x3c002c){return _0x5a02cd>_0x3c002c;}};try{if(_0x44e7d6){if(_0x49ecd2[_0x56ae('b7','I*)r')]!==_0x56ae('b8','[Xkg')){console['log'](''+JSON[_0x56ae('b9','(Xg7')](_0x44e7d6));console['log']($['name']+_0x56ae('ba','qadu'));}else{if(_0x9002aa['guimc'](typeof str,_0x9002aa['aFjEF'])){try{return JSON[_0x56ae('bb','TcCL')](str);}catch(_0x484628){console['log'](_0x484628);$[_0x56ae('13','(qa2')]($[_0x56ae('bc','*HI7')],'','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie');return[];}}}}else{if(_0x49ecd2[_0x56ae('bd','TiBm')](_0x49ecd2['mdbwv'],_0x49ecd2[_0x56ae('be','!(5S')])){$[_0x56ae('bf','8B]&')](e,_0x158067);}else{if(_0x49ecd2[_0x56ae('c0','hFK1')](safeGet,_0x16c671)){_0x16c671=JSON[_0x56ae('c1','vxAS')](_0x16c671);}}}}catch(_0x21437b){if(_0x49ecd2['eQLfY'](_0x49ecd2['aHWvK'],_0x49ecd2[_0x56ae('c2','8KTR')])){$[_0x56ae('c3','I*)r')](_0x21437b,_0x158067);}else{console[_0x56ae('c4','dm!J')]('由于您第'+$['index']+_0x56ae('c5','QddF'));const _0x2dc776=_0x4baf6e[_0x56ae('c6','(qa2')]($[_0x56ae('c7','(Xg7')],inviteCodes[_0x56ae('c8','iDxH')])?inviteCodes[_0x56ae('c9','87Ye')]-0x1:$[_0x56ae('ca','*HI7')]-0x1;$[_0x56ae('cb','87Ye')]=inviteCodes[_0x2dc776][_0x56ae('cc','O!c5')]('@');}}finally{_0x333774(_0x16c671);}});});}function city_lotteryAward(){var _0x420cd2={'VMgWr':_0x56ae('cd','dm!J'),'giUMc':function(_0x2331bd,_0x2e961d){return _0x2331bd(_0x2e961d);},'fuSLD':_0x56ae('ce','*HI7'),'rZNDq':'keep-alive','DzcUf':function(_0x511fa6,_0x3047a5){return _0x511fa6(_0x3047a5);},'MLmcY':_0x56ae('cf','!(5S'),'HcrrL':'sECDb','NQnpW':_0x56ae('d0','p!sM'),'iQAhS':function(_0x4d2c9d,_0x5c560f){return _0x4d2c9d===_0x5c560f;},'mKMuY':_0x56ae('d1','^FhP'),'Kjwrk':'LIABX','FUzlg':function(_0x43441f,_0x37d619){return _0x43441f(_0x37d619);},'ddoTU':function(_0x22e131,_0x3ab492,_0x25b70e){return _0x22e131(_0x3ab492,_0x25b70e);}};let _0x3821b5={};return new Promise(_0x15ffa1=>{$[_0x56ae('d2','!(5S')](_0x420cd2[_0x56ae('d3','7ghW')](taskPostUrl,_0x56ae('d4','^FhP'),_0x3821b5),async(_0x21fd58,_0x177778,_0x16f9a5)=>{var _0x379dc8={'QfIQC':_0x420cd2[_0x56ae('d5','s4!#')],'yYEhn':function(_0x51a74b,_0x2d268d){return _0x420cd2[_0x56ae('d6','iDxH')](_0x51a74b,_0x2d268d);},'UsjKB':_0x420cd2['fuSLD'],'kxPwn':_0x420cd2[_0x56ae('d7','p!sM')],'McLjp':_0x56ae('d8','SV9a'),'PJrIO':function(_0x3a397c,_0x133e86){return _0x420cd2[_0x56ae('d9','%q4O')](_0x3a397c,_0x133e86);},'qxzDi':_0x420cd2['MLmcY'],'TWGNu':_0x56ae('da','D!il')};if(_0x420cd2['HcrrL']!==_0x420cd2['NQnpW']){try{if(_0x21fd58){if(_0x420cd2[_0x56ae('db','OoGu')](_0x420cd2[_0x56ae('dc','QddF')],_0x420cd2[_0x56ae('dd','!(5S')])){console[_0x56ae('de','qadu')](''+JSON[_0x56ae('df','r[lW')](_0x21fd58));console[_0x56ae('e0','I*)r')]($[_0x56ae('e1','r[lW')]+_0x56ae('e2','7Q&O'));}else{_0x15ffa1(_0x16f9a5);}}else{if(_0x56ae('e3','I*)r')!==_0x56ae('e4','OoGu')){if(safeGet(_0x16f9a5)){if(_0x420cd2['iQAhS'](_0x56ae('e5','I*)r'),_0x420cd2[_0x56ae('e6','jg@m')])){console['log'](_0x16f9a5);}else{if(typeof JSON[_0x56ae('e7','8KTR')](_0x16f9a5)==_0x379dc8[_0x56ae('e8','wR#*')]){return!![];}}}}else{if(process[_0x56ae('e9','PBHY')]['CITY_SHARECODES'][_0x56ae('ea','QddF')]('\x0a')>-0x1){shareCodes=process['env'][_0x56ae('eb','D!il')]['split']('\x0a');}else{shareCodes=process[_0x56ae('7d','Bw**')]['CITY_SHARECODES'][_0x56ae('ec','hFK1')]('&');}}}}catch(_0x9bce74){$['logErr'](_0x9bce74,_0x177778);}finally{_0x420cd2['FUzlg'](_0x15ffa1,_0x16f9a5);}}else{return{'url':''+JD_API_HOST,'body':'functionId='+functionId+'&body='+_0x379dc8['yYEhn'](escape,JSON['stringify'](_0x3821b5))+_0x56ae('ed','QddF'),'headers':{'Cookie':cookie,'Host':_0x379dc8[_0x56ae('ee','))7H')],'Connection':_0x379dc8['kxPwn'],'Content-Type':_0x379dc8[_0x56ae('ef','4NbX')],'User-Agent':$['isNode']()?process[_0x56ae('f0','O!c5')][_0x56ae('f1','7ghW')]?process['env'][_0x56ae('f2','TiBm')]:_0x379dc8[_0x56ae('f3','qadu')](require,_0x56ae('f4','zrnP'))[_0x56ae('f5','D!il')]:$[_0x56ae('f6','TiBm')](_0x56ae('f7','hFK1'))?$[_0x56ae('f8','I*)r')](_0x56ae('f9','ybFC')):_0x56ae('fa','hFK1'),'Accept-Language':_0x379dc8[_0x56ae('fb','p!sM')],'Accept-Encoding':_0x379dc8[_0x56ae('fc','TcCL')]}};}});});}function readShareCode(){var _0x274ca0={'iHwLn':function(_0x28d776,_0x5c195d){return _0x28d776===_0x5c195d;},'brVkQ':'data','SIYmf':function(_0x5c8414,_0xb42ec){return _0x5c8414===_0xb42ec;},'ZsZQF':_0x56ae('fd','wR#*'),'ENaKk':'JBSEN','rUHDo':function(_0x384c21,_0x5d503a){return _0x384c21===_0x5d503a;},'LxruP':_0x56ae('fe','s4!#'),'uOlzJ':_0x56ae('ff','7Q&O'),'uiomA':function(_0x1a834b,_0x10bd94){return _0x1a834b!==_0x10bd94;},'KObsG':_0x56ae('100','zrnP'),'nrPWX':'vDhvb','UfaGd':_0x56ae('101','hFK1'),'EUsfb':_0x56ae('102','o&vr')};console[_0x56ae('103','iDxH')]('开始');return new Promise(async _0x467682=>{var _0x5063d9={'mZggs':function(_0x3fa730,_0x278c93){return _0x274ca0[_0x56ae('104','XF9j')](_0x3fa730,_0x278c93);},'dXHYn':_0x274ca0[_0x56ae('105','c4t$')],'Lpbnw':function(_0x5b3575,_0x3f1d29){return _0x274ca0[_0x56ae('106','(Xg7')](_0x5b3575,_0x3f1d29);},'SryrY':_0x274ca0[_0x56ae('107','Zsij')],'aVzvn':_0x274ca0[_0x56ae('108','!(5S')],'mkqWP':function(_0x337979,_0x5e2b54){return _0x274ca0['rUHDo'](_0x337979,_0x5e2b54);},'DeKlv':_0x274ca0[_0x56ae('109','M9E!')],'aCARe':_0x274ca0[_0x56ae('10a','SV9a')],'YHSHh':function(_0x450341,_0x3ece93){return _0x274ca0[_0x56ae('10b','dcas')](_0x450341,_0x3ece93);},'Wbojj':_0x274ca0['KObsG'],'BkuvO':_0x274ca0[_0x56ae('10c','ybFC')],'cuKWV':function(_0x1430db,_0x575302){return _0x1430db===_0x575302;},'sOgYN':_0x274ca0['UfaGd'],'aKYXF':function(_0x1d7ed5,_0x1da8a6){return _0x1d7ed5!==_0x1da8a6;},'pnWPn':_0x56ae('10d','8KTR'),'ZOOTA':_0x274ca0[_0x56ae('10e','wR#*')]};$['get']({'url':_0x56ae('10f','M9E!'),'timeout':0x2710},(_0xb236b0,_0x33654d,_0x124372)=>{if(_0x5063d9[_0x56ae('110','o&vr')](_0x5063d9[_0x56ae('111','zrnP')],_0x5063d9[_0x56ae('112','iDxH')])){if(_0xb236b0){console[_0x56ae('113','%q4O')](''+JSON[_0x56ae('114','OoGu')](_0xb236b0));console['log']($['name']+_0x56ae('115','Bw**'));}else{if(_0x124372){_0x124372=JSON['parse'](_0x124372);}}}else{try{if(_0x5063d9[_0x56ae('116','4NbX')](_0x5063d9[_0x56ae('117','Bw**')],_0x5063d9['aCARe'])){console[_0x56ae('118','o&vr')](e);$[_0x56ae('13','(qa2')]($[_0x56ae('14','hFK1')],'','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie');return[];}else{if(_0xb236b0){if(_0x5063d9[_0x56ae('119','jg@m')](_0x5063d9['Wbojj'],_0x56ae('11a','1csw'))){console[_0x56ae('11b','8KTR')](''+JSON[_0x56ae('11c','TiBm')](_0xb236b0));console['log']($[_0x56ae('11d','I*)r')]+'\x20API请求失败，请检查网路重试');}else{console[_0x56ae('11e','hFK1')](''+JSON[_0x56ae('11f','1csw')](_0xb236b0));console[_0x56ae('120','IOVE')]($[_0x56ae('26','7ghW')]+_0x56ae('121','TiBm'));}}else{if(_0x5063d9[_0x56ae('122','dm!J')]('vDhvb',_0x5063d9[_0x56ae('123','I*)r')])){if(_0x124372){if(_0x5063d9[_0x56ae('124','ncEN')](_0x56ae('125','PBHY'),_0x56ae('126','Zsij'))){console[_0x56ae('127','M9E!')](_0x56ae('128','XF9j'));}else{_0x124372=JSON[_0x56ae('129','O!c5')](_0x124372);}}}else{$['nickName']=$[_0x56ae('28','OoGu')];}}}}catch(_0x213fb0){if(_0x5063d9[_0x56ae('12a','8KTR')](_0x5063d9[_0x56ae('12b','))7H')],_0x5063d9[_0x56ae('12c','R8lf')])){$['logErr'](_0x213fb0,_0x33654d);}else{console['log'](_0x213fb0);console['log'](_0x56ae('12d','I*)r'));return![];}}finally{if(_0x5063d9[_0x56ae('12e','IOVE')](_0x5063d9[_0x56ae('12f','))7H')],_0x5063d9['ZOOTA'])){_0x467682(_0x124372);}else{if(safeGet(_0x124372)){console[_0x56ae('130','c4t$')](_0x56ae('131','!(5S')+_0x124372);_0x124372=JSON[_0x56ae('132','OoGu')](_0x124372);if(_0x5063d9[_0x56ae('133','o&vr')](_0x124372[_0x5063d9[_0x56ae('134','!(5S')]][_0x56ae('135','ybFC')],0x0)){console['log'](_0x56ae('136','vxAS')+_0x124372[_0x56ae('94','IOVE')][_0x56ae('137','O!c5')]['currentTimeCash']+_0x56ae('138','^FhP')+_0x124372[_0x56ae('139','vxAS')]['result']['totalCash']+'\x20元');}}}}}});await $['wait'](0x2710);_0x467682();});}function shareCodesFormat(){var _0x24c246={'HDIIE':_0x56ae('13a','zrnP'),'pqNWr':function(_0x417da8,_0x3d4153){return _0x417da8===_0x3d4153;},'xCJQO':'base','UOcDX':function(_0x380f22,_0x471d5f){return _0x380f22(_0x471d5f);},'xNekT':function(_0x45edac,_0x3cacdc){return _0x45edac!==_0x3cacdc;},'Ofogh':'TqVtH','GwbIu':_0x56ae('13b','Zsij'),'sdGoy':function(_0x1ed4a5,_0x5b7f6d){return _0x1ed4a5-_0x5b7f6d;},'hkPrE':function(_0x571bd3,_0x1ad16a){return _0x571bd3!==_0x1ad16a;},'AmYls':_0x56ae('13c','IOVE'),'CyuZX':'xzYlJ','nkNZx':function(_0x24a923,_0x4268d4){return _0x24a923>_0x4268d4;},'XIYWS':function(_0x5bf183,_0x22f103){return _0x5bf183-_0x22f103;},'HOfAn':function(_0x48db4b){return _0x48db4b();},'PipwP':function(_0x327871,_0x12c8e4){return _0x327871===_0x12c8e4;},'bUfDp':_0x56ae('13d','OoGu'),'hWrtc':'ylxIV'};return new Promise(async _0x42fd96=>{if(_0x24c246[_0x56ae('13e','o&vr')](_0x24c246[_0x56ae('13f','qadu')],_0x24c246['GwbIu'])){$['newShareCodes']=[];if($[_0x56ae('140','&4cM')][_0x24c246['sdGoy']($['index'],0x1)]){if(_0x24c246[_0x56ae('141','p!sM')](_0x24c246[_0x56ae('142','87Ye')],_0x24c246[_0x56ae('143','SV9a')])){$[_0x56ae('144','hFK1')]=$['shareCodesArr'][_0x24c246[_0x56ae('145','87Ye')]($[_0x56ae('146','PBHY')],0x1)]['split']('@');}else{if(data){data=JSON['parse'](data);}}}else{if(_0x56ae('147','TpA7')!==_0x56ae('148','1csw')){console['log']('由于您第'+$['index']+'个京东账号未提供shareCode,将采纳本脚本自带的助力码\x0a');const _0x2de7ec=_0x24c246[_0x56ae('149','D!il')]($[_0x56ae('14a','dm!J')],inviteCodes[_0x56ae('14b','[Xkg')])?_0x24c246['XIYWS'](inviteCodes[_0x56ae('14c','TpA7')],0x1):_0x24c246[_0x56ae('14d','OoGu')]($[_0x56ae('14e','IOVE')],0x1);$['newShareCodes']=inviteCodes[_0x2de7ec][_0x56ae('14f','qadu')]('@');}else{$['done']();}}const _0x5bcba9=await _0x24c246[_0x56ae('150','%q4O')](readShareCode);if(_0x5bcba9&&_0x24c246[_0x56ae('151','D!il')](_0x5bcba9[_0x56ae('152','PBHY')],0xc8)){if(_0x24c246['PipwP'](_0x24c246[_0x56ae('153','&4cM')],_0x24c246[_0x56ae('154','TcCL')])){data=JSON[_0x56ae('155','c4t$')](data);if(data[_0x24c246[_0x56ae('156','QddF')]]===0xd){$['isLogin']=![];return;}if(_0x24c246[_0x56ae('157','Zsij')](data[_0x56ae('158','D!il')],0x0)){$[_0x56ae('159','dm!J')]=data[_0x24c246[_0x56ae('15a','vxAS')]]&&data[_0x24c246['xCJQO']][_0x56ae('15b','I*)r')]||$[_0x56ae('15c','D!il')];}else{$[_0x56ae('15d','%q4O')]=$['UserName'];}}else{$[_0x56ae('15e','QddF')]=[...new Set([...$['newShareCodes'],..._0x5bcba9['data']||[]])];}}console['log']('第'+$[_0x56ae('15f','7ghW')]+_0x56ae('160','7ghW')+JSON['stringify']($['newShareCodes']));_0x24c246[_0x56ae('161','^FhP')](_0x42fd96);}else{_0x24c246[_0x56ae('162','TcCL')](_0x42fd96,data);}});}function requireConfig(){var _0x253899={'gPMJm':_0x56ae('163','TpA7'),'iytIv':function(_0x43c307,_0x59b4f4){return _0x43c307!==_0x59b4f4;},'pPpFs':_0x56ae('164','ncEN'),'yeLtf':function(_0x2daa0e,_0x33b772){return _0x2daa0e===_0x33b772;},'KfNYo':_0x56ae('165','zrnP')};return new Promise(_0x44df4f=>{var _0x45ebe5={'nVqpO':function(_0xac3c92,_0x3e0e88){return _0x253899['iytIv'](_0xac3c92,_0x3e0e88);},'euAIl':_0x253899['pPpFs'],'BBzmW':'JAogj'};console[_0x56ae('6a','TiBm')](_0x56ae('166','XF9j')+$[_0x56ae('167','^FhP')]+_0x56ae('168','[Xkg'));let _0x3a8b76=[];if($['isNode']()){if(process['env'][_0x56ae('169','^FhP')]){if(_0x253899[_0x56ae('16a','&4cM')](_0x56ae('16b','7ghW'),_0x253899[_0x56ae('16c','wR#*')])){$[_0x56ae('16d','TcCL')]=data[_0x253899[_0x56ae('16e','hFK1')]]&&data['base']['nickname']||$['UserName'];}else{if(process[_0x56ae('16f','))7H')][_0x56ae('170','7Q&O')]['indexOf']('\x0a')>-0x1){if(_0x56ae('171','(Xg7')!==_0x56ae('172','87Ye')){console[_0x56ae('173','p!sM')](''+JSON[_0x56ae('56','dm!J')](err));console['log']($[_0x56ae('174','c4t$')]+_0x56ae('175','))7H'));}else{_0x3a8b76=process[_0x56ae('176','s4!#')][_0x56ae('177','XF9j')][_0x56ae('cc','O!c5')]('\x0a');}}else{_0x3a8b76=process['env'][_0x56ae('79','*HI7')][_0x56ae('178','TpA7')]('&');}}}}console[_0x56ae('179','Zsij')]('共'+cookiesArr[_0x56ae('17a','dcas')]+'个京东账号\x0a');$['shareCodesArr']=[];if($[_0x56ae('17b','1csw')]()){Object['keys'](_0x3a8b76)[_0x56ae('17c','OoGu')](_0x27faba=>{if(_0x45ebe5[_0x56ae('17d','TcCL')](_0x45ebe5[_0x56ae('17e','(qa2')],_0x45ebe5[_0x56ae('17f','(qa2')])){if(_0x3a8b76[_0x27faba]){$['shareCodesArr']['push'](_0x3a8b76[_0x27faba]);}}else{_0x3a8b76=process['env'][_0x56ae('180','ybFC')][_0x56ae('181','QddF')]('\x0a');}});}console[_0x56ae('182','QddF')]('您提供了'+$['shareCodesArr'][_0x56ae('183','7Q&O')]+_0x56ae('184','zrnP')+$[_0x56ae('185','&4cM')]+_0x56ae('186','O!c5'));_0x44df4f();});}function TotalBean(){var _0x99f3e3={'BLXDu':function(_0x15ea9c,_0x2251fb){return _0x15ea9c==_0x2251fb;},'vIpXz':_0x56ae('187','R8lf'),'mUnKW':function(_0x1c068b,_0x1c7b80){return _0x1c068b!==_0x1c7b80;},'OurKl':'OTFrl','KLFdP':function(_0x2379f8,_0xb0686a){return _0x2379f8===_0xb0686a;},'zqTcV':'cYkpo','nWfpo':_0x56ae('188','TpA7'),'qYkOI':_0x56ae('189','[Xkg'),'HExiU':_0x56ae('18a','(qa2'),'yiAhh':_0x56ae('18b','*HI7'),'RkdDp':function(_0x39b5a7,_0x2c4d67){return _0x39b5a7!==_0x2c4d67;},'XyIpY':'CWaIR','PYtms':_0x56ae('18c','hFK1'),'nULZu':_0x56ae('18d','Bw**'),'gfYch':_0x56ae('18e','PBHY'),'rRjlu':function(_0x228298){return _0x228298();},'GkEvR':_0x56ae('18f','8KTR'),'voKxP':_0x56ae('190','7ghW'),'LHOTe':_0x56ae('191','PBHY'),'OoVVh':_0x56ae('192','zrnP'),'NWvfe':_0x56ae('193','dm!J'),'QMtVW':_0x56ae('194','dm!J'),'zAKHh':_0x56ae('195','7Q&O'),'SOEds':'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0'};return new Promise(async _0x1b74ee=>{const _0x38db03={'url':_0x56ae('196','r[lW'),'headers':{'Accept':_0x99f3e3[_0x56ae('197','I*)r')],'Content-Type':_0x99f3e3[_0x56ae('198','SV9a')],'Accept-Encoding':_0x99f3e3[_0x56ae('199','8KTR')],'Accept-Language':_0x99f3e3['OoVVh'],'Connection':_0x99f3e3['NWvfe'],'Cookie':cookie,'Referer':_0x56ae('19a','OoGu'),'User-Agent':$['isNode']()?process[_0x56ae('19b','iDxH')][_0x56ae('19c','wR#*')]?process['env'][_0x56ae('19d','&4cM')]:require(_0x99f3e3[_0x56ae('19e','R8lf')])['USER_AGENT']:$[_0x56ae('19f','wR#*')](_0x99f3e3[_0x56ae('1a0','TiBm')])?$[_0x56ae('1a1','4NbX')](_0x99f3e3[_0x56ae('1a2','qadu')]):_0x99f3e3[_0x56ae('1a3','%q4O')]}};$[_0x56ae('1a4','(qa2')](_0x38db03,(_0x4c7733,_0x49e629,_0x99cca9)=>{var _0x2e5d4a={'pHngO':function(_0x38d44c,_0x26d0a9){return _0x99f3e3[_0x56ae('1a5','qadu')](_0x38d44c,_0x26d0a9);},'kZgek':_0x99f3e3[_0x56ae('1a6','s4!#')]};try{if(_0x4c7733){console[_0x56ae('1a7','r[lW')](''+JSON[_0x56ae('8a','4NbX')](_0x4c7733));console['log']($[_0x56ae('1a8','qadu')]+_0x56ae('1a9','^FhP'));}else{if(_0x99f3e3['mUnKW'](_0x99f3e3[_0x56ae('1aa','!(5S')],_0x99f3e3['OurKl'])){$[_0x56ae('1ab','r[lW')](e,_0x49e629);}else{if(_0x99cca9){if(_0x99f3e3['KLFdP'](_0x99f3e3['zqTcV'],_0x99f3e3[_0x56ae('1ac','IOVE')])){_0x99cca9=JSON[_0x56ae('1ad','zrnP')](_0x99cca9);if(_0x99cca9[_0x99f3e3['nWfpo']]===0xd){$[_0x56ae('1ae','(qa2')]=![];return;}if(_0x99cca9[_0x99f3e3['nWfpo']]===0x0){$[_0x56ae('1af','7ghW')]=_0x99cca9[_0x99f3e3[_0x56ae('1b0','wR#*')]]&&_0x99cca9[_0x56ae('1b1','c4t$')]['nickname']||$['UserName'];}else{if(_0x99f3e3[_0x56ae('1b2','!(5S')]!==_0x99f3e3['yiAhh']){$['nickName']=$['UserName'];}else{console['log'](_0x56ae('1b3','R8lf')+_0x99cca9[_0x56ae('1b4','R8lf')][_0x56ae('1b5','SV9a')][_0x56ae('1b6','TcCL')]+_0x56ae('1b7','jg@m')+_0x99cca9[_0x56ae('63','c4t$')]['result']['totalCash']+'\x20元');}}}else{$[_0x56ae('1b8','7Q&O')]=![];return;}}else{if(_0x99f3e3[_0x56ae('1b9','p!sM')](_0x99f3e3[_0x56ae('1ba','Zsij')],_0x99f3e3['PYtms'])){console[_0x56ae('1bb','1csw')](_0x56ae('1bc','o&vr'));}else{shareCodes=process[_0x56ae('1bd','8KTR')]['CITY_SHARECODES']['split']('&');}}}}}catch(_0x44fd5b){$[_0x56ae('1be','Zsij')](_0x44fd5b,_0x49e629);}finally{if(_0x99f3e3[_0x56ae('1bf','s4!#')]===_0x99f3e3[_0x56ae('1c0','(Xg7')]){try{if(_0x2e5d4a[_0x56ae('1c1','s4!#')](typeof JSON[_0x56ae('1c2','IOVE')](_0x99cca9),_0x2e5d4a['kZgek'])){return!![];}}catch(_0x476657){console['log'](_0x476657);console[_0x56ae('103','iDxH')](_0x56ae('1c3','jg@m'));return![];}}else{_0x99f3e3[_0x56ae('1c4','))7H')](_0x1b74ee);}}});});}function safeGet(_0x5accfc){var _0xc39de={'XkHtJ':function(_0x53b287){return _0x53b287();},'OEALt':function(_0x3f4b69,_0x3b8011){return _0x3f4b69!==_0x3b8011;},'obCcS':_0x56ae('1c5','O!c5')};try{if(_0xc39de['OEALt'](_0xc39de[_0x56ae('1c6','hFK1')],_0xc39de['obCcS'])){_0xc39de[_0x56ae('1c7','(qa2')](resolve);}else{if(typeof JSON[_0x56ae('bb','TcCL')](_0x5accfc)==_0x56ae('1c8','*HI7')){return!![];}}}catch(_0x5c3213){console[_0x56ae('6a','TiBm')](_0x5c3213);console[_0x56ae('1c9','wR#*')](_0x56ae('1ca','1csw'));return![];}}function jsonParse(_0x2ced4d){var _0x19df46={'pZFgw':function(_0x371721,_0x96f6e7){return _0x371721(_0x96f6e7);},'YZvkE':function(_0x7ea8ab,_0x266e16){return _0x7ea8ab==_0x266e16;},'cHLRO':_0x56ae('1cb','Zsij'),'htxuu':function(_0x107eaf,_0x1a26ed){return _0x107eaf===_0x1a26ed;},'dWPca':_0x56ae('1cc','Zsij'),'sSAFG':function(_0x2fc2fd,_0x30c1bd){return _0x2fc2fd!==_0x30c1bd;}};if(_0x19df46['YZvkE'](typeof _0x2ced4d,_0x19df46['cHLRO'])){if(_0x19df46[_0x56ae('1cd','XF9j')](_0x19df46[_0x56ae('1ce','Zsij')],_0x19df46[_0x56ae('1cf','7Q&O')])){try{if(_0x19df46['sSAFG']('pjuAg',_0x56ae('1d0','8KTR'))){return JSON[_0x56ae('1d1','1csw')](_0x2ced4d);}else{_0x19df46[_0x56ae('1d2','E5DV')](resolve,data);}}catch(_0x422bfa){console['log'](_0x422bfa);$['msg']($[_0x56ae('a1','8B]&')],'','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie');return[];}}else{return JSON['parse'](_0x2ced4d);}}};_0xodH='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
